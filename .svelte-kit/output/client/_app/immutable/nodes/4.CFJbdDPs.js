import{c as p,a as r,p as Ae,f as x,t as $e}from"../chunks/DJD7U2PO.js";import{p as w,f as c,aK as ie,a as C,i as v,K as B,c as O,r as S,s as k,t as be,aq as Pe,M as ke,L as Qe}from"../chunks/Dx6vkeWC.js";import{i as te}from"../chunks/CL2VAI88.js";import{I as Ue,v as ge,n as H,r as Se,s as _e,F as qe,x as He,y as We,D as Ge,T as Je,z as ze,A as Xe,g as ne,S as Me,e as De,i as Fe,a as Ye,P as Be,b as Ze,c as et,d as tt,u as rt}from"../chunks/BhmSlbsZ.js";import{D as at,a as ot,A as nt,b as lt,c as st,d as it,e as Te,f as dt,B as ct,g as ut}from"../chunks/CGWaUjwy.js";import{d as vt,s as ye}from"../chunks/C7qgDVRg.js";import{s as j,r as F,p as f,c as h,b as Ie}from"../chunks/CtaYjfD-.js";import{g as ft}from"../chunks/mEjIznrw.js";import{D as Ke,a as Ve,b as Ee,c as Le,d as Ne}from"../chunks/B_s6NT6V.js";import{O as W,T as fe,u as je,V as gt}from"../chunks/mpUCCd4c.js";function _t(i,e){w(e,!0);let a=F(e,["$$slots","$$events","$$legacy"]);const n=[["path",{d:"M10 11v6"}],["path",{d:"M14 11v6"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];Ue(i,j({name:"trash-2"},()=>a,{get iconNode(){return n},children:(t,l)=>{var o=p(),u=c(o);W(u,()=>e.children??ie),r(t,o)},$$slots:{default:!0}})),C()}function mt(i,e){w(e,!0);let a=f(e,"open",15,!1),n=f(e,"onOpenChange",3,ge),t=f(e,"onOpenChangeComplete",3,ge);at.create({variant:H(()=>"alert-dialog"),open:H(()=>a(),u=>{a(u),n()(u)}),onOpenChangeComplete:H(()=>t())});var l=p(),o=c(l);W(o,()=>e.children??ie),r(i,l),C()}var ht=x("<button><!></button>");function pt(i,e){const a=Ae();w(e,!0);let n=f(e,"id",19,()=>Se(a)),t=f(e,"ref",15,null),l=F(e,["$$slots","$$events","$$legacy","children","child","id","ref"]);const o=ot.create({id:H(()=>n()),ref:H(()=>t(),s=>t(s))}),u=B(()=>_e(l,o.props));var _=p(),b=c(_);{var K=s=>{var d=p(),y=c(d);W(y,()=>e.child,()=>({props:v(u)})),r(s,d)},m=s=>{var d=ht();fe(d,()=>({...v(u)}));var y=O(d);W(y,()=>e.children??ie),S(d),r(s,d)};te(b,s=>{e.child?s(K):s(m,!1)})}r(i,_),C()}var xt=x("<button><!></button>");function bt(i,e){const a=Ae();w(e,!0);let n=f(e,"id",19,()=>Se(a)),t=f(e,"ref",15,null),l=f(e,"disabled",3,!1),o=F(e,["$$slots","$$events","$$legacy","id","ref","children","child","disabled"]);const u=nt.create({id:H(()=>n()),ref:H(()=>t(),d=>t(d)),disabled:H(()=>!!l())}),_=B(()=>_e(o,u.props));var b=p(),K=c(b);{var m=d=>{var y=p(),g=c(y);W(g,()=>e.child,()=>({props:v(_)})),r(d,y)},s=d=>{var y=xt();fe(y,()=>({...v(_)}));var g=O(y);W(g,()=>e.children??ie),S(y),r(d,y)};te(K,d=>{e.child?d(m):d(s,!1)})}r(i,b),C()}var yt=x("<!> <!>",1),Pt=x("<!> <div><!></div>",1);function $t(i,e){const a=Ae();w(e,!0);let n=f(e,"id",19,()=>Se(a)),t=f(e,"ref",15,null),l=f(e,"forceMount",3,!1),o=f(e,"interactOutsideBehavior",3,"ignore"),u=f(e,"onCloseAutoFocus",3,ge),_=f(e,"onEscapeKeydown",3,ge),b=f(e,"onOpenAutoFocus",3,ge),K=f(e,"onInteractOutside",3,ge),m=f(e,"preventScroll",3,!0),s=f(e,"trapFocus",3,!0),d=f(e,"restoreScrollDelay",3,null),y=F(e,["$$slots","$$events","$$legacy","id","children","child","ref","forceMount","interactOutsideBehavior","onCloseAutoFocus","onEscapeKeydown","onOpenAutoFocus","onInteractOutside","preventScroll","trapFocus","restoreScrollDelay"]);const g=lt.create({id:H(()=>n()),ref:H(()=>t(),R=>t(R))}),$=B(()=>_e(y,g.props));var I=p(),X=c(I);{var re=R=>{qe(R,{get ref(){return g.opts.ref},loop:!0,get trapFocus(){return s()},get enabled(){return g.root.opts.open.current},get onCloseAutoFocus(){return u()},onOpenAutoFocus:G=>{b()(G),!G.defaultPrevented&&(G.preventDefault(),He(0,()=>g.opts.ref.current?.focus()))},focusScope:(G,P)=>{let D=()=>P?.().props;We(G,j(()=>v($),{get enabled(){return g.root.opts.open.current},get ref(){return g.opts.ref},onEscapeKeydown:M=>{_()(M),!M.defaultPrevented&&g.root.handleClose()},children:(M,me)=>{Ge(M,j(()=>v($),{get ref(){return g.opts.ref},get enabled(){return g.root.opts.open.current},get interactOutsideBehavior(){return o()},onInteractOutside:V=>{K()(V),!V.defaultPrevented&&g.root.handleClose()},children:(V,le)=>{Je(V,j(()=>v($),{get ref(){return g.opts.ref},get enabled(){return g.root.opts.open.current},children:(de,Y)=>{var Q=p(),Z=c(Q);{var se=U=>{var E=yt(),L=c(E);{var N=A=>{ze(A,{get preventScroll(){return m()},get restoreScrollDelay(){return d()}})};te(L,A=>{g.root.opts.open.current&&A(N)})}var ce=k(L,2);{let A=B(()=>({props:_e(v($),D()),...g.snippetProps}));W(ce,()=>e.child,()=>v(A))}r(U,E)},ee=U=>{var E=Pt(),L=c(E);ze(L,{get preventScroll(){return m()}});var N=k(L,2);fe(N,A=>({...A}),[()=>_e(v($),D())]);var ce=O(N);W(ce,()=>e.children??ie),S(N),r(U,E)};te(Z,U=>{e.child?U(se):U(ee,!1)})}r(de,Q)},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{default:!0}}))},$$slots:{focusScope:!0}})};te(X,R=>{(g.shouldRender||l())&&R(re)})}r(i,I),C()}var Dt=x("<div><!></div>");function At(i,e){const a=Ae();w(e,!0);let n=f(e,"id",19,()=>Se(a)),t=f(e,"ref",15,null),l=F(e,["$$slots","$$events","$$legacy","id","children","child","ref"]);const o=st.create({id:H(()=>n()),ref:H(()=>t(),s=>t(s))}),u=B(()=>_e(l,o.props));var _=p(),b=c(_);{var K=s=>{var d=p(),y=c(d);W(y,()=>e.child,()=>({props:v(u)})),r(s,d)},m=s=>{var d=Dt();fe(d,()=>({...v(u)}));var y=O(d);W(y,()=>e.children??ie),S(d),r(s,d)};te(b,s=>{e.child?s(K):s(m,!1)})}r(i,_),C()}function St(i,e){w(e,!0);let a=f(e,"open",15,!1),n=F(e,["$$slots","$$events","$$legacy","open"]);var t=p(),l=c(t);h(l,()=>mt,(o,u)=>{u(o,j(()=>n,{get open(){return a()},set open(_){a(_)}}))}),r(i,t),C()}function wt(i,e){let a=F(e,["$$slots","$$events","$$legacy"]);var n=p(),t=c(n);h(t,()=>Xe,(l,o)=>{o(l,j(()=>a))}),r(i,n)}function Ct(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class"]);var t=p(),l=c(t);{let o=B(()=>ne("text-lg font-semibold",e.class));h(l,()=>it,(u,_)=>{_(u,j({"data-slot":"alert-dialog-title",get class(){return v(o)}},()=>n,{get ref(){return a()},set ref(b){a(b)}}))})}r(i,t),C()}function kt(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class"]);var t=p(),l=c(t);{let o=B(()=>ne(Te(),e.class));h(l,()=>pt,(u,_)=>{_(u,j({"data-slot":"alert-dialog-action",get class(){return v(o)}},()=>n,{get ref(){return a()},set ref(b){a(b)}}))})}r(i,t),C()}function Ot(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class"]);var t=p(),l=c(t);{let o=B(()=>ne(Te({variant:"outline"}),e.class));h(l,()=>bt,(u,_)=>{_(u,j({"data-slot":"alert-dialog-cancel",get class(){return v(o)}},()=>n,{get ref(){return a()},set ref(b){a(b)}}))})}r(i,t),C()}var Ft=x("<div><!></div>");function It(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class","children"]);var t=Ft();fe(t,o=>({"data-slot":"alert-dialog-footer",class:o,...n}),[()=>ne("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e.class)]);var l=O(t);W(l,()=>e.children??ie),S(t),Ie(t,o=>a(o),()=>a()),r(i,t),C()}var zt=x("<div><!></div>");function Mt(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class","children"]);var t=zt();fe(t,o=>({"data-slot":"alert-dialog-header",class:o,...n}),[()=>ne("flex flex-col gap-2 text-center sm:text-start",e.class)]);var l=O(t);W(l,()=>e.children??ie),S(t),Ie(t,o=>a(o),()=>a()),r(i,t),C()}function Bt(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class"]);var t=p(),l=c(t);{let o=B(()=>ne("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e.class));h(l,()=>dt,(u,_)=>{_(u,j({"data-slot":"alert-dialog-overlay",get class(){return v(o)}},()=>n,{get ref(){return a()},set ref(b){a(b)}}))})}r(i,t),C()}var Kt=x("<!> <!>",1);function Vt(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class","portalProps"]);wt(i,j(()=>e.portalProps,{children:(t,l)=>{var o=Kt(),u=c(o);Bt(u,{});var _=k(u,2);{let b=B(()=>ne("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed start-[50%] top-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e.class));h(_,()=>$t,(K,m)=>{m(K,j({"data-slot":"alert-dialog-content",get class(){return v(b)}},()=>n,{get ref(){return a()},set ref(s){a(s)}}))})}r(t,o)},$$slots:{default:!0}})),C()}function Et(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class"]);var t=p(),l=c(t);{let o=B(()=>ne("text-muted-foreground text-sm",e.class));h(l,()=>At,(u,_)=>{_(u,j({"data-slot":"alert-dialog-description",get class(){return v(o)}},()=>n,{get ref(){return a()},set ref(b){a(b)}}))})}r(i,t),C()}var Lt=x('<!> <span class="ml-2"> </span>',1),Nt=x("<!> <!>",1),Tt=x('<span class="text-xs text-muted-foreground truncate"> </span>'),jt=x('<!> <span class="ml-2"> </span>',1),Rt=x("<!> <!>",1),Qt=x("<!> <!>",1),Ut=x("<!> <!>",1),qt=x("<!> <!>",1),Ht=x('<div class="group flex items-center gap-3 px-6 py-3 border-b border-border transition-colors hover:bg-muted"><!> <button type="button" class="flex-1 min-w-0 flex flex-col gap-0.5 text-left cursor-pointer bg-transparent border-none p-0"><span class="text-sm font-medium truncate"> </span> <!></button> <!> <!></div> <!>',1);function Wt(i,e){w(e,!0);const a=je();let n=Qe(!1);const t=Object.values(et),l=Object.values(tt),o=B(()=>()=>{if(!e.interval.description)return"";try{const P=gt.extract(e.interval.description);return P.slice(0,100)+(P.length>100?"...":"")}catch{return""}});function u(P){a.update(e.interval.id,D=>{D.status=P,D.updatedAt=Date.now()})}function _(P){a.update(e.interval.id,D=>{D.priority=P,D.updatedAt=Date.now()})}function b(P){P.preventDefault(),P.stopPropagation(),ke(n,!0)}function K(){a.delete(e.interval.id),ke(n,!1)}function m(){ft(`/intervals/${e.interval.id}`)}var s=Ht(),d=c(s),y=O(d);h(y,()=>Ne,(P,D)=>{D(P,{children:(M,me)=>{var V=Nt(),le=c(V);h(le,()=>Ke,(Y,Q)=>{Q(Y,{class:"flex items-center rounded-sm hover:bg-muted transition-colors shrink-0",children:(Z,se)=>{Me(Z,{get status(){return e.interval.status},size:14})},$$slots:{default:!0}})});var de=k(le,2);h(de,()=>Ve,(Y,Q)=>{Q(Y,{align:"start",children:(Z,se)=>{var ee=p(),U=c(ee);h(U,()=>Ee,(E,L)=>{L(E,{get value(){return e.interval.status},onValueChange:u,children:(N,ce)=>{var A=p(),oe=c(A);De(oe,17,()=>t,Fe,(ue,z)=>{var T=p(),J=c(T);h(J,()=>Le,(ve,q)=>{q(ve,{get value(){return v(z)},children:(we,Re)=>{var he=Lt(),pe=c(he);Me(pe,{get status(){return v(z)},size:14});var xe=k(pe,2),Ce=O(xe,!0);S(xe),be(()=>ye(Ce,Ye[v(z)])),r(we,he)},$$slots:{default:!0}})}),r(ue,T)}),r(N,A)},$$slots:{default:!0}})}),r(Z,ee)},$$slots:{default:!0}})}),r(M,V)},$$slots:{default:!0}})});var g=k(y,2);g.__click=m;var $=O(g),I=O($,!0);S($);var X=k($,2);{var re=P=>{var D=Tt(),M=O(D,!0);S(D),be(me=>ye(M,me),[()=>v(o)()]),r(P,D)};te(X,P=>{v(o)()&&P(re)})}S(g);var R=k(g,2);h(R,()=>Ne,(P,D)=>{D(P,{children:(M,me)=>{var V=Rt(),le=c(V);h(le,()=>Ke,(Y,Q)=>{Q(Y,{class:"flex items-center rounded-sm hover:bg-muted transition-colors shrink-0",children:(Z,se)=>{Be(Z,{get priority(){return e.interval.priority},size:14})},$$slots:{default:!0}})});var de=k(le,2);h(de,()=>Ve,(Y,Q)=>{Q(Y,{align:"end",children:(Z,se)=>{var ee=p(),U=c(ee);h(U,()=>Ee,(E,L)=>{L(E,{get value(){return e.interval.priority},onValueChange:_,children:(N,ce)=>{var A=p(),oe=c(A);De(oe,17,()=>l,Fe,(ue,z)=>{var T=p(),J=c(T);h(J,()=>Le,(ve,q)=>{q(ve,{get value(){return v(z)},children:(we,Re)=>{var he=jt(),pe=c(he);Be(pe,{get priority(){return v(z)},size:14});var xe=k(pe,2),Ce=O(xe,!0);S(xe),be(()=>ye(Ce,Ze[v(z)])),r(we,he)},$$slots:{default:!0}})}),r(ue,T)}),r(N,A)},$$slots:{default:!0}})}),r(Z,ee)},$$slots:{default:!0}})}),r(M,V)},$$slots:{default:!0}})});var ae=k(R,2);ct(ae,{variant:"ghost",size:"icon-xs",onclick:b,class:"opacity-0 group-hover:opacity-100 text-muted-foreground hover:text-destructive hover:bg-destructive/10 shrink-0",title:"Delete interval",children:(P,D)=>{_t(P,{class:"w-3.5 h-3.5"})},$$slots:{default:!0}}),S(d);var G=k(d,2);h(G,()=>St,(P,D)=>{D(P,{get open(){return v(n)},set open(M){ke(n,M,!0)},children:(M,me)=>{var V=p(),le=c(V);h(le,()=>Vt,(de,Y)=>{Y(de,{children:(Q,Z)=>{var se=qt(),ee=c(se);h(ee,()=>Mt,(E,L)=>{L(E,{children:(N,ce)=>{var A=Qt(),oe=c(A);h(oe,()=>Ct,(z,T)=>{T(z,{children:(J,ve)=>{Pe();var q=$e("Delete interval?");r(J,q)},$$slots:{default:!0}})});var ue=k(oe,2);h(ue,()=>Et,(z,T)=>{T(z,{children:(J,ve)=>{Pe();var q=$e();be(()=>ye(q,`"${(e.interval.title||"Untitled")??""}" will be permanently deleted. This action cannot be undone.`)),r(J,q)},$$slots:{default:!0}})}),r(N,A)},$$slots:{default:!0}})});var U=k(ee,2);h(U,()=>It,(E,L)=>{L(E,{children:(N,ce)=>{var A=Ut(),oe=c(A);h(oe,()=>Ot,(z,T)=>{T(z,{children:(J,ve)=>{Pe();var q=$e("Cancel");r(J,q)},$$slots:{default:!0}})});var ue=k(oe,2);h(ue,()=>kt,(z,T)=>{T(z,{onclick:K,class:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:(J,ve)=>{Pe();var q=$e("Delete");r(J,q)},$$slots:{default:!0}})}),r(N,A)},$$slots:{default:!0}})}),r(Q,se)},$$slots:{default:!0}})}),r(M,V)},$$slots:{default:!0}})}),be(()=>ye(I,e.interval.title||"Untitled")),r(i,s),C()}vt(["click"]);var Gt=x("<div></div>");function Oe(i,e){w(e,!0);let a=f(e,"ref",15,null),n=F(e,["$$slots","$$events","$$legacy","ref","class"]);var t=Gt();fe(t,l=>({"data-slot":"skeleton",class:l,...n}),[()=>ne("bg-accent animate-pulse rounded-md",e.class)]),Ie(t,l=>a(l),()=>a()),r(i,t),C()}var Jt=x('<div class="flex items-center gap-3 px-6 py-3"><!> <!> <!></div>'),Xt=x('<div class="flex flex-col"></div>'),Yt=x('<p class="m-0">No intervals yet</p> <p class="text-xs opacity-60 mt-1">Press <kbd class="inline-block px-1.5 py-0.5 mx-0.5 font-mono text-[0.6875rem] bg-background border border-border rounded-sm">&#x2325;</kbd> <kbd class="inline-block px-1.5 py-0.5 mx-0.5 font-mono text-[0.6875rem] bg-background border border-border rounded-sm">N</kbd> to create your first interval</p>',1),Zt=x('<p class="m-0">No intervals match your filters</p>'),er=x('<div class="flex flex-col items-center justify-center py-16 text-muted-foreground text-center"><!></div>'),tr=x('<div class="flex-1 overflow-auto"><div class="flex flex-col"></div></div>'),rr=x('<div class="flex-1 flex flex-col min-h-0"><!></div>');function fr(i,e){w(e,!0);const a=je(),n=rt(a),t=ut(),l=B(()=>n.data??[]),o=B(()=>()=>{let m=[...v(l)];return t.statusFilter&&(m=m.filter(s=>s.status===t.statusFilter)),t.priorityFilter&&(m=m.filter(s=>s.priority===t.priorityFilter)),m.sort((s,d)=>d.updatedAt-s.updatedAt),m});var u=rr(),_=O(u);{var b=m=>{var s=Xt();De(s,20,()=>Array(5),Fe,(d,y)=>{var g=Jt(),$=O(g);Oe($,{class:"w-5 h-5 rounded-full"});var I=k($,2);Oe(I,{class:"h-4 flex-1"});var X=k(I,2);Oe(X,{class:"h-4 w-16"}),S(g),r(d,g)}),S(s),r(m,s)},K=m=>{var s=p(),d=c(s);{var y=$=>{var I=er(),X=O(I);{var re=ae=>{var G=Yt();Pe(2),r(ae,G)},R=ae=>{var G=Zt();r(ae,G)};te(X,ae=>{v(l).length===0?ae(re):ae(R,!1)})}S(I),r($,I)},g=$=>{var I=tr(),X=O(I);De(X,21,()=>v(o)(),re=>re.id,(re,R)=>{Wt(re,{get interval(){return v(R)}})}),S(X),S(I),r($,I)};te(d,$=>{v(o)().length===0?$(y):$(g,!1)},!0)}r(m,s)};te(_,m=>{n.isLoading?m(b):m(K,!1)})}S(u),r(i,u),C()}export{fr as component};
