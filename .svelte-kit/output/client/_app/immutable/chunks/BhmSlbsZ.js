import{aO as js,y as U,D as _t,aP as Gs,C as gn,i as b,Y as Vs,ap as Wn,m as Ks,x as Qt,B as Us,aE as mn,aQ as Hs,ah as qt,ae as Js,aR as Ys,aS as Xs,aT as Qs,F as qs,H as Zs,G as jn,I as Be,J as st,z as ke,aa as $s,aG as eo,w as It,aU as ae,n as Sr,v as Cr,aV as Kt,aA as to,aD as no,q as ro,a5 as xr,Q as so,aW as kr,aX as oo,aY as io,E as ao,aZ as co,W as lo,ax as uo,L as B,a_ as Gn,M as k,ai as Ye,V as at,d as ve,e as Ee,K as L,p as ue,a as fe,c as Z,f as te,s as me,aK as Ie,r as $,a$ as fo,b0 as ho,aL as Vn,aJ as po,u as go,af as mo,b1 as bo,b2 as Er,aq as yo,t as Fe}from"./Dx6vkeWC.js";import{Z as jt,_ as Gt,$ as vo,a0 as Tr,a1 as wo,a2 as vt,a3 as bn,a4 as Ut,a5 as wt,a6 as So,a7 as Co,a8 as ze,a9 as xo,aa as ee,ab as ko,ac as _e,ad as Eo,ae as ot,af as To,ag as yn,ah as Ao,ai as vn,aj as ye,ak as ft,al as Io,am as wn,an as Kn,ao as Ro,ap as Mo,aq as Un,ar as ct,as as se,at as Oo,au as No,av as _o,aw as Po,ax as Ar,ay as Fo,az as Lo,aA as Bo,aB as zo,aC as Do,aD as Wo,aE as jo,aF as Rt,aG as Go,aH as Hn,aI as Vo,aJ as Ko,aK as Uo,aL as Ho,aM as Jo,aN as Jn,aO as Ir,aP as Yo,aQ as Xo,aR as Yn,aS as Qo,aT as qo,aU as Zo,T as Xn,O as Re,aV as Mt,Q as O,W as $e,X as et,aW as $o}from"./mpUCCd4c.js";import{b as ei,d as We,a as j,c as ne,f as ti}from"./DJD7U2PO.js";import{i as ni,c as ri,o as G,m as si,u as oi,s as tt}from"./C7qgDVRg.js";import{B as Rr,i as Ot}from"./CL2VAI88.js";import{p as F,r as ii}from"./CtaYjfD-.js";function ai(){return Symbol(js)}function ci(t,e,n){U&&_t();var r=new Rr(t),s=!Gs();gn(()=>{var o=e();s&&o!==null&&typeof o=="object"&&(o={}),r.ensure(o,n)})}function Mr(t,e){return e}function li(t,e,n){for(var r=[],s=e.length,o,i=e.length,c=0;c<s;c++){let f=e[c];Cr(f,()=>{if(o){if(o.pending.delete(f),o.done.add(f),o.pending.size===0){var h=t.outrogroups;Zt(mn(o.done)),h.delete(o),h.size===0&&(t.outrogroups=null)}}else i-=1},!1)}if(i===0){var a=r.length===0&&n!==null;if(a){var l=n,u=l.parentNode;no(u),u.append(l),t.items.clear()}Zt(e,!a)}else o={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(o)}function Zt(t,e=!0){for(var n=0;n<t.length;n++)ro(t[n],e)}var Qn;function Or(t,e,n,r,s,o=null){var i=t,c=new Map,a=(e&kr)!==0;if(a){var l=t;i=U?Be(xr(l)):l.appendChild(It())}U&&_t();var u=null,f=Vs(()=>{var v=n();return Hs(v)?v:v==null?[]:mn(v)}),h,p=!0;function m(){d.fallback=u,ui(d,h,i,e,r),u!==null&&(h.length===0?(u.f&ae)===0?Sr(u):(u.f^=ae,nt(u,null,i)):Cr(u,()=>{u=null}))}var g=gn(()=>{h=b(f);var v=h.length;let A=!1;if(U){var M=qs(i)===Zs;M!==(v===0)&&(i=jn(),Be(i),st(!1),A=!0)}for(var x=new Set,P=Ks,_=Us(),I=0;I<v;I+=1){U&&ke.nodeType===$s&&ke.data===eo&&(i=ke,A=!0,st(!1));var y=h[I],E=r(y,I),T=p?null:c.get(E);T?(T.v&&Wn(T.v,y),T.i&&Wn(T.i,I),_&&P.skipped_effects.delete(T.e)):(T=fi(c,p?i:Qn??=It(),y,E,I,s,e,n),p||(T.e.f|=ae),c.set(E,T)),x.add(E)}if(v===0&&o&&!u&&(p?u=Qt(()=>o(i)):(u=Qt(()=>o(Qn??=It())),u.f|=ae)),U&&v>0&&Be(jn()),!p)if(_){for(const[K,X]of c)x.has(K)||P.skipped_effects.add(X.e);P.oncommit(m),P.ondiscard(()=>{})}else m();A&&st(!0),b(f)}),d={effect:g,items:c,outrogroups:null,fallback:u};p=!1,U&&(i=ke)}function ui(t,e,n,r,s){var o=(r&oo)!==0,i=e.length,c=t.items,a=t.effect.first,l,u=null,f,h=[],p=[],m,g,d,v;if(o)for(v=0;v<i;v+=1)m=e[v],g=s(m,v),d=c.get(g).e,(d.f&ae)===0&&(d.nodes?.a?.measure(),(f??=new Set).add(d));for(v=0;v<i;v+=1){if(m=e[v],g=s(m,v),d=c.get(g).e,t.outrogroups!==null)for(const T of t.outrogroups)T.pending.delete(d),T.done.delete(d);if((d.f&ae)!==0)if(d.f^=ae,d===a)nt(d,null,n);else{var A=u?u.next:a;d===t.effect.last&&(t.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),pe(t,u,d),pe(t,d,A),nt(d,A,n),u=d,h=[],p=[],a=u.next;continue}if((d.f&Kt)!==0&&(Sr(d),o&&(d.nodes?.a?.unfix(),(f??=new Set).delete(d))),d!==a){if(l!==void 0&&l.has(d)){if(h.length<p.length){var M=p[0],x;u=M.prev;var P=h[0],_=h[h.length-1];for(x=0;x<h.length;x+=1)nt(h[x],M,n);for(x=0;x<p.length;x+=1)l.delete(p[x]);pe(t,P.prev,_.next),pe(t,u,P),pe(t,_,M),a=M,u=_,v-=1,h=[],p=[]}else l.delete(d),nt(d,a,n),pe(t,d.prev,d.next),pe(t,d,u===null?t.effect.first:u.next),pe(t,u,d),u=d;continue}for(h=[],p=[];a!==null&&a!==d;)(l??=new Set).add(a),p.push(a),a=a.next;if(a===null)continue}(d.f&ae)===0&&h.push(d),u=d,a=d.next}if(t.outrogroups!==null){for(const T of t.outrogroups)T.pending.size===0&&(Zt(mn(T.done)),t.outrogroups?.delete(T));t.outrogroups.size===0&&(t.outrogroups=null)}if(a!==null||l!==void 0){var I=[];if(l!==void 0)for(d of l)(d.f&Kt)===0&&I.push(d);for(;a!==null;)(a.f&Kt)===0&&a!==t.fallback&&I.push(a),a=a.next;var y=I.length;if(y>0){var E=(r&kr)!==0&&i===0?n:null;if(o){for(v=0;v<y;v+=1)I[v].nodes?.a?.measure();for(v=0;v<y;v+=1)I[v].nodes?.a?.fix()}li(t,I,E)}}o&&so(()=>{if(f!==void 0)for(d of f)d.nodes?.a?.apply()})}function fi(t,e,n,r,s,o,i,c){var a=(i&Xs)!==0?(i&Qs)===0?Js(n,!1,!1):qt(n):null,l=(i&Ys)!==0?qt(s):null;return{v:a,i:l,e:Qt(()=>(o(e,a??n,l??s,c),()=>{t.delete(r)}))}}function nt(t,e,n){if(t.nodes)for(var r=t.nodes.start,s=t.nodes.end,o=e&&(e.f&ae)===0?e.nodes.start:n;r!==null;){var i=to(r);if(o.before(r),r===s)return;r=i}}function pe(t,e,n){e===null?t.effect.first=n:e.next=n,n===null?t.effect.last=e:n.prev=e}function di(t,e,n,r,s,o){let i=U;U&&_t();var c=null;U&&ke.nodeType===io&&(c=ke,_t());var a=U?ke:t,l=new Rr(a,!1);gn(()=>{const u=e()||null;var f=co;if(u===null){l.ensure(null,null);return}return l.ensure(u,h=>{if(u){if(c=U?c:document.createElementNS(f,u),ei(c,c),r){U&&ni(u)&&c.append(document.createComment(""));var p=U?xr(c):c.appendChild(It());U&&(p===null?st(!1):Be(p)),r(c,p)}lo.nodes.end=c,h.before(c)}U&&Be(h)}),()=>{}},ao),uo(()=>{}),i&&(st(!0),Be(a))}class hi extends vo{#e;constructor(e,n,r,s){super(e,n,r),this.#e=s}inner(e){return this.#e(e),e}}function pi(t){return e=>{const n=new jt(e.graph,new Gt),r=new hi(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}class gi extends Tr{#e;constructor(e,n,r,s){super(e,n,r),this.#e=s}run(){for(const e of this.inputMessages())this.#e(e),this.output.sendData(e)}}function mi(t){return e=>{const n=new jt(e.graph,new Gt),r=new gi(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}class bi extends wo{#e=new vt;#t=new vt;#n;constructor(e,n,r,s,o="inner"){super(e,n,r,s),this.#n=o}run(){const e=vt.fromMultiSets(this.inputAMessages()),n=vt.fromMultiSets(this.inputBMessages());if(e.size===0&&n.size===0)return;const r=new bn;this.#n!=="anti"&&this.emitInnerResults(e,n,r),(this.#n==="left"||this.#n==="full"||this.#n==="anti")&&this.emitLeftOuterResults(e,n,r),(this.#n==="right"||this.#n==="full")&&this.emitRightOuterResults(e,n,r),this.#e.append(e),this.#t.append(n),r.getInner().length>0&&this.output.sendData(r)}emitInnerResults(e,n,r){e.size>0&&r.extend(e.join(this.#t)),n.size>0&&r.extend(this.#e.join(n)),e.size>0&&n.size>0&&r.extend(e.join(n))}emitLeftOuterResults(e,n,r){if(e.size>0)for(const[s,o]of e.entriesIterators()){const i=this.#t.getConsolidatedMultiplicity(s),c=n.getConsolidatedMultiplicity(s);if(i+c===0)for(const[l,u]of o)u!==0&&r.add([s,[l,null]],u)}if(n.size>0)for(const s of n.getPresenceKeys()){const o=this.#t.getConsolidatedMultiplicity(s),i=n.getConsolidatedMultiplicity(s);if(i===0)continue;const c=o+i;if(o===0==(c===0))continue;const a=o===0;for(const[l,u]of this.#e.getIterator(s))u!==0&&r.add([s,[l,null]],a?-u:+u)}}emitRightOuterResults(e,n,r){if(n.size>0)for(const[s,o]of n.entriesIterators()){const i=this.#e.getConsolidatedMultiplicity(s),c=e.getConsolidatedMultiplicity(s);if(i+c===0)for(const[l,u]of o)u!==0&&r.add([s,[null,l]],u)}if(e.size>0)for(const s of e.getPresenceKeys()){const o=this.#e.getConsolidatedMultiplicity(s),i=e.getConsolidatedMultiplicity(s);if(i===0)continue;const c=o+i;if(o===0==(c===0))continue;const a=o===0;for(const[l,u]of this.#t.getIterator(s))u!==0&&r.add([s,[null,l]],a?-u:+u)}}}function yi(t,e="inner"){return n=>{if(n.graph!==t.graph)throw new Error("Cannot join streams from different graphs");const r=new jt(n.graph,new Gt),s=new bi(n.graph.getNextOperatorId(),n.connectReader(),t.connectReader(),r.writer,e);return n.graph.addOperator(s),r}}class vi extends Tr{#e;#t;constructor(e,n,r,s=o=>o){super(e,n,r),this.#e=s,this.#t=new Map}run(){const e=new Map;for(const r of this.inputMessages())for(const[s,o]of r.getInner()){const i=Ut(this.#e(s)),a=(e.get(i)?.[0]??this.#t.get(i)??0)+o;e.set(i,[a,s])}const n=[];for(const[r,[s,o]]of e.entries()){const i=this.#t.get(r)??0;s===0?this.#t.delete(r):this.#t.set(r,s),i<=0&&s>0?n.push([[Ut(this.#e(o)),o[1]],1]):i>0&&s<=0&&n.push([[Ut(this.#e(o)),o[1]],-1])}n.length>0&&this.output.sendData(new bn(n))}}function wi(t=e=>e){return e=>{const n=new jt(e.graph,new Gt),r=new vi(e.graph.getNextOperatorId(),e.connectReader(),n.writer,t);return e.graph.addOperator(r),n}}class V{constructor(e={}){this.query={},this.query={...e}}_createRefForSource(e,n){let r;try{r=Object.keys(e)}catch{const c=e===null?"null":"undefined";throw new wt(n,c)}if(Array.isArray(e))throw new wt(n,"array");if(r.length!==1)throw r.length===0?new wt(n,"empty object"):r.every(c=>!isNaN(Number(c)))?new wt(n,"string"):new So(n);const s=r[0],o=e[s];let i;if(o instanceof Co)i=new ze(o,s);else if(o instanceof V){const c=o._getQuery();if(!c.from)throw new xo(n);i=new ee(c,s)}else throw new ko(s);return[s,i]}from(e){const[,n]=this._createRefForSource(e,"from clause");return new V({...this.query,from:n})}join(e,n,r="left"){const[s,o]=this._createRefForSource(e,"join clause"),c=[...this._getCurrentAliases(),s],a=_e(c),l=n(a);let u,f;if(l.type==="func"&&l.name==="eq"&&l.args.length===2)u=l.args[0],f=l.args[1];else throw new Eo;const h={from:o,type:r,left:u,right:f},p=this.query.join||[];return new V({...this.query,join:[...p,h]})}leftJoin(e,n){return this.join(e,n,"left")}rightJoin(e,n){return this.join(e,n,"right")}innerJoin(e,n){return this.join(e,n,"inner")}fullJoin(e,n){return this.join(e,n,"full")}where(e){const n=this._getCurrentAliases(),r=_e(n),s=e(r),o=this.query.where||[];return new V({...this.query,where:[...o,s]})}having(e){const n=this._getCurrentAliases(),r=_e(n),s=e(r),o=this.query.having||[];return new V({...this.query,having:[...o,s]})}select(e){const n=this._getCurrentAliases(),r=_e(n),s=e(r),o=Nr(s);return new V({...this.query,select:o,fnSelect:void 0})}orderBy(e,n="asc"){const r=this._getCurrentAliases(),s=_e(r),o=e(s),i=typeof n=="string"?{direction:n,nulls:"first"}:{direction:n.direction??"asc",nulls:n.nulls??"first",stringSort:n.stringSort,locale:n.stringSort==="locale"?n.locale:void 0,localeOptions:n.stringSort==="locale"?n.localeOptions:void 0},c=u=>({expression:ot(u),compareOptions:i}),a=Array.isArray(o)?o.map(u=>c(u)):[c(o)],l=this.query.orderBy||[];return new V({...this.query,orderBy:[...l,...a]})}groupBy(e){const n=this._getCurrentAliases(),r=_e(n),s=e(r),o=Array.isArray(s)?s.map(c=>ot(c)):[ot(s)],i=this.query.groupBy||[];return new V({...this.query,groupBy:[...i,...o]})}limit(e){return new V({...this.query,limit:e})}offset(e){return new V({...this.query,offset:e})}distinct(){return new V({...this.query,distinct:!0})}findOne(){return new V({...this.query,singleResult:!0})}_getCurrentAliases(){const e=[];if(this.query.from&&e.push(this.query.from.alias),this.query.join)for(const n of this.query.join)e.push(n.from.alias);return e}get fn(){const e=this;return{select(n){return new V({...e.query,select:void 0,fnSelect:n})},where(n){return new V({...e.query,fnWhere:[...e.query.fnWhere||[],n]})},having(n){return new V({...e.query,fnHaving:[...e.query.fnHaving||[],n]})}}}_getQuery(){if(!this.query.from)throw new To;return this.query}}function Si(t){return t===void 0?ot(null):t instanceof Ao||t instanceof vn||t instanceof ye||t instanceof ft?t:ot(t)}function Ci(t){return t!==null&&typeof t=="object"&&!yn(t)&&!t.__refProxy}function Nr(t){if(!Ci(t))return Si(t);const e={};for(const[n,r]of Object.entries(t)){if(typeof n=="string"&&n.startsWith("__SPREAD_SENTINEL__")){e[n]=r;continue}e[n]=Nr(r)}return e}function xi(t){const e=t(new V);return _r(e)}function _r(t){return t._getQuery()}function ki(t){const e=Ei(t);let n=t,r,s=0;const o=10;for(;s<o&&!Io(n,r);)r=n,n=$t(n),s++;return{optimizedQuery:Pr(n),sourceWhereClauses:e}}function Ei(t){const e=new Map;if(!t.where||t.where.length===0)return e;const r=tn(t.where).map(o=>Fr(o)),s=Lr(r);for(const[o,i]of s.singleSource)Ti(t,o)&&e.set(o,i);return e}function Ti(t,e){if(t.from.alias===e)return t.from.type==="collectionRef";if(t.join){for(const n of t.join)if(n.from.alias===e)return n.from.type==="collectionRef"}return!1}function $t(t){const e={...t,from:t.from.type==="queryRef"?new ee($t(t.from.query),t.from.alias):t.from,join:t.join?.map(n=>({...n,from:n.from.type==="queryRef"?new ee($t(n.from.query),n.from.alias):n.from}))};return Ai(e)}function Ai(t){if(!t.where||t.where.length===0)return t;if(!t.join||t.join.length===0){if(t.where.length>1){const c=tn(t.where),a=Pt(c);return{...t,where:[a]}}return t}const e=t.where.filter(c=>!Kn(c)),r=tn(e).map(c=>Fr(c)),s=Lr(r),o=Ri(t,s),i=t.where.filter(c=>Kn(c));return i.length>0&&(o.where=[...o.where||[],...i]),o}function Pr(t){return{...t,from:en(t.from),join:t.join?.map(e=>({...e,from:en(e.from)}))}}function en(t){if(t.type==="collectionRef")return t;const e=Pr(t.query);if(Ii(e)){const n=en(e.from);return n.type==="collectionRef"?new ze(n.collection,t.alias):new ee(n.query,t.alias)}return new ee(e,t.alias)}function Ii(t){return(!t.where||t.where.length===0)&&!t.select&&(!t.groupBy||t.groupBy.length===0)&&(!t.having||t.having.length===0)&&(!t.orderBy||t.orderBy.length===0)&&(!t.join||t.join.length===0)&&t.limit===void 0&&t.offset===void 0&&!t.fnSelect&&(!t.fnWhere||t.fnWhere.length===0)&&(!t.fnHaving||t.fnHaving.length===0)}function tn(t){const e=[];for(const n of t){const r=wn(n);e.push(...Sn(r))}return e}function Sn(t){if(t.type==="func"&&t.name==="and"){const e=[];for(const n of t.args)e.push(...Sn(n));return e}else return[t]}function Fr(t){const e=new Set;let n=!1;function r(s){switch(s.type){case"ref":if(s.path&&s.path.length>0){const o=s.path[0];o&&(e.add(o),s.path.length===1&&(n=!0))}break;case"func":s.args&&s.args.forEach(r);break;case"val":break;case"agg":s.args&&s.args.forEach(r);break}}return r(t),{expression:t,touchedSources:e,hasNamespaceOnlyRef:n}}function Lr(t){const e=new Map,n=[];for(const o of t)if(o.touchedSources.size===1&&!o.hasNamespaceOnlyRef){const i=Array.from(o.touchedSources)[0];e.has(i)||e.set(i,[]),e.get(i).push(o.expression)}else(o.touchedSources.size>1||o.hasNamespaceOnlyRef)&&n.push(o.expression);const r=new Map;for(const[o,i]of e)r.set(o,Pt(i));const s=n.length>0?Pt(n):void 0;return{singleSource:r,multiSource:s}}function Ri(t,e){const n=new Set,r=qn(t.from,e.singleSource,n),s=t.join?t.join.map(l=>({...l,from:qn(l.from,e.singleSource,n)})):void 0,o=[];e.multiSource&&o.push(e.multiSource);const i=t.join&&t.join.some(l=>l.type==="left"||l.type==="right"||l.type==="full");for(const[l,u]of e.singleSource)n.has(l)?i&&o.push(Mo(u)):o.push(u);const c=o.length>1?[Pt(o.flatMap(l=>Sn(wn(l))))]:o;return{select:t.select,groupBy:t.groupBy?[...t.groupBy]:void 0,having:t.having?[...t.having]:void 0,orderBy:t.orderBy?[...t.orderBy]:void 0,limit:t.limit,offset:t.offset,distinct:t.distinct,fnSelect:t.fnSelect,fnWhere:t.fnWhere?[...t.fnWhere]:void 0,fnHaving:t.fnHaving?[...t.fnHaving]:void 0,from:r,join:s,where:c.length>0?c:[]}}function Le(t){return{from:t.from.type==="collectionRef"?new ze(t.from.collection,t.from.alias):new ee(Le(t.from.query),t.from.alias),select:t.select,join:t.join?t.join.map(e=>({type:e.type,left:e.left,right:e.right,from:e.from.type==="collectionRef"?new ze(e.from.collection,e.from.alias):new ee(Le(e.from.query),e.from.alias)})):void 0,where:t.where?[...t.where]:void 0,groupBy:t.groupBy?[...t.groupBy]:void 0,having:t.having?[...t.having]:void 0,orderBy:t.orderBy?[...t.orderBy]:void 0,limit:t.limit,offset:t.offset,fnSelect:t.fnSelect,fnWhere:t.fnWhere?[...t.fnWhere]:void 0,fnHaving:t.fnHaving?[...t.fnHaving]:void 0}}function qn(t,e,n){const r=e.get(t.alias);if(!r)return t.type==="collectionRef"?new ze(t.collection,t.alias):new ee(Le(t.query),t.alias);if(t.type==="collectionRef"){const i={from:new ze(t.collection,t.alias),where:[r]};return n.add(t.alias),new ee(i,t.alias)}if(!Fi(t.query,r,t.alias))return new ee(Le(t.query),t.alias);if(Bi(t.query,r,t.alias))return new ee(Le(t.query),t.alias);const s=t.query.where||[],o={...Le(t.query),where:[...s,r]};return n.add(t.alias),new ee(o,t.alias)}function Mi(t,e,n){return t.select?Br(t.select)||Li(t.select,e,n):!1}function Oi(t){return t.groupBy&&t.groupBy.length>0}function Ni(t){return t.having&&t.having.length>0}function _i(t){return t.orderBy&&t.orderBy.length>0&&(t.limit!==void 0||t.offset!==void 0)}function Pi(t){return t.fnSelect||t.fnWhere&&t.fnWhere.length>0||t.fnHaving&&t.fnHaving.length>0}function Fi(t,e,n){return!(Mi(t,e,n)||Oi(t)||Ni(t)||_i(t)||Pi(t))}function Br(t){for(const e of Object.values(t))if(typeof e=="object"){const n=e;if(n.type==="agg"||!("type"in n)&&Br(n))return!0}return!1}function Cn(t){const e=[];if(t==null||typeof t!="object")return e;switch(t.type){case"ref":e.push(t);break;case"func":case"agg":for(const n of t.args??[])e.push(...Cn(n));break}return e}function Li(t,e,n){const r=new Set;for(const[o,i]of Object.entries(t))o.startsWith("__SPREAD_SENTINEL__")||i instanceof ye||r.add(o);const s=Cn(e);for(const o of s){const i=o.path;if(!Array.isArray(i)||i.length<2)continue;const c=i[0],a=i[1];if(c===n&&r.has(a))return!0}return!1}function Bi(t,e,n){const r=Cn(e);if(r.every(o=>o.path[0]!==n))return!1;if(t.fnSelect)return!0;const s=t.select;if(!s)return!1;for(const o of r){const i=o.path;if(i.length<2||i[0]!==n)continue;const c=s[i[1]];if(!c)continue;if(!(c instanceof ye)||c.path.length<2)return!0;const[a,l]=c.path;if(a!==n&&a!==t.from.alias||l!==i[1])return!0}return!1}function Pt(t){if(t.length===0)throw new Ro;return t.length===1?t[0]:new vn("and",t)}function zi(t,e,n,r,s,o,i,c,a,l,u,f,h,p,m,g,d,v){let A=t;for(const M of e)A=Di(A,M,n,r,s,o,i,c,a,l,u,f,h,p,m,g,d,v);return A}function Di(t,e,n,r,s,o,i,c,a,l,u,f,h,p,m,g,d,v){const A=e.from.type==="collectionRef",{alias:M,input:x,collectionId:P}=ji(e.from,o,a,l,u,f,h,p,i,c,g,d,v);n[M]=x,A&&(d[M]=P);const _=a[r],I=a[P];if(!_)throw new Un(r);if(!I)throw new Un(P);const{activeSource:y,lazySource:E}=Vi(e.type,_,I),T=Object.keys(n),{mainExpr:K,joinedExpr:X}=Wi(e.left,e.right,T,M),Oe=ct(K),we=ct(X);let q=t.pipe(se(([J,C])=>[Oe(C),[J,C]])),H=x.pipe(se(([J,C])=>{const de={[M]:C};return[we(de),[J,de]]}));if(!["inner","left","right","full"].includes(e.type))throw new Oo(e.type);if(y){const J=y==="main"?e.from:m.from,C=J.type==="queryRef"&&(J.query.limit||J.query.offset),de=K.type==="func"||X.type==="func";if(!C&&!de){const he=y==="main"?M:s;f.add(he);const bt=y==="main"?q:H,z=No(m,y==="main"?X:K,E),Y=z.collection,Se=z.path[0];Se&&_o(Se,z.path,Y);const Ke=bt.pipe(pi(D=>{const Ue=v[he]||he,oe=l[Ue];if(!oe)throw new Wo(Ue,he,E.id,Object.keys(l));if(oe.hasLoadedInitialState())return;const Ne=D.getInner().map(([[Ws]])=>Ws),He=new ye(z.path);oe.requestSnapshot({where:jo(He,Ne),optimizedOnly:!0})||oe.requestSnapshot()}));y==="main"?q=Ke:H=Ke}}return q.pipe(yi(H,e.type),Gi(e.type))}function Wi(t,e,n,r){const s=n.filter(c=>c!==r),o=nn(t),i=nn(e);if(o&&s.includes(o)&&i===r)return{mainExpr:t,joinedExpr:e};if(o===r&&i&&s.includes(i))return{mainExpr:e,joinedExpr:t};throw!o||!i?new Fo:o===i?new Lo(o):s.includes(o)?i!==r?new zo(r):new Do:new Bo(o)}function nn(t){switch(t.type){case"ref":return t.path[0]||null;case"func":{const e=new Set;for(const n of t.args){const r=nn(n);r&&e.add(r)}return e.size===1?Array.from(e)[0]:null}default:return null}}function ji(t,e,n,r,s,o,i,c,a,l,u,f,h){switch(t.type){case"collectionRef":{const p=e[t.alias];if(!p)throw new Ar(t.alias,t.collection.id,Object.keys(e));return f[t.alias]=t.collection.id,{alias:t.alias,input:p,collectionId:t.collection.id}}case"queryRef":{const p=l.get(t.query)||t.query,m=u(p,e,n,r,s,o,i,c,a,l);Object.assign(f,m.aliasToCollectionId),Object.assign(h,m.aliasRemapping);const g=Object.keys(m.aliasToCollectionId).find(A=>m.aliasToCollectionId[A]===m.collectionId);g&&g!==t.alias&&(h[t.alias]=g);const v=m.pipeline.pipe(se(A=>{const[M,[x,P]]=A;return[M,x]}));return{alias:t.alias,input:v,collectionId:m.collectionId}}default:throw new Po(t.type)}}function Gi(t){return function(e){return e.pipe(Rt(n=>{const[r,[s,o]]=n,i=s?.[1],c=o?.[1];return t==="inner"?!!(i&&c):t==="left"?!!i:t==="right"?!!c:!0}),se(n=>{const[r,[s,o]]=n,i=s?.[0],c=s?.[1],a=o?.[0],l=o?.[1],u={};return c&&Object.assign(u,c),l&&Object.assign(u,l),[`[${i},${a}]`,u]}))}}function Vi(t,e,n){switch(t){case"left":return{activeSource:"main",lazySource:n};case"right":return{activeSource:"joined",lazySource:e};case"inner":return e.size<n.size?{activeSource:"main",lazySource:n}:{activeSource:"joined",lazySource:e};default:return{activeSource:void 0,lazySource:void 0}}}function rn(t){return t instanceof ft?t.value:t}function Ki(t,e,n){const r=t.source(e);if(r&&typeof r=="object"){let s=n;const o=t.targetPath;if(o.length===0)for(const[i,c]of Object.entries(r))n[i]=rn(c);else for(let i=0;i<o.length;i++){const c=o[i];if(i===o.length-1){const a=s[c]??={};if(typeof a=="object")for(const[l,u]of Object.entries(r))a[l]=rn(u)}else{const a=s[c];(a==null||typeof a!="object")&&(s[c]={}),s=s[c]}}}}function Ui(t,e,n){const r=t.alias.split(".");if(r.length===1)n[t.alias]=t.compiled(e);else{let s=n;for(let o=0;o<r.length-1;o++){const i=r[o],c=s[i];(c==null||typeof c!="object")&&(s[i]={}),s=s[i]}s[r[r.length-1]]=rn(t.compiled(e))}}function Hi([t,e],n){const r={};for(const s of n)s.kind==="merge"?Ki(s,e,r):Ui(s,e,r);return[t,{...e,__select_results:r}]}function Ji(t,e,n){const r=[];return zr([],e,r),t.pipe(se(s=>Hi(s,r)))}function Yi(t){return t.type==="agg"}function Xi(t){return t&&typeof t=="object"&&!yn(t)}function zr(t,e,n){for(const[r,s]of Object.entries(e)){if(r.startsWith("__SPREAD_SENTINEL__")){const i=r.slice(19),c=i.lastIndexOf("__"),a=c>=0?i.slice(0,c):i,l=s&&typeof s=="object"&&"type"in s&&s.type==="ref";if(a.includes(".")||l){const u=[...t],f=l?s:new ye(a.split(".")),h=ct(f);n.push({kind:"merge",targetPath:u,source:h})}else{const u=a,f=[...t];n.push({kind:"merge",targetPath:f,source:h=>h[u]})}continue}const o=s;if(Xi(o)){zr([...t,r],o,n);continue}if(Yi(o))n.push({kind:"field",alias:[...t,r].join("."),compiled:()=>null});else{if(o===void 0||!yn(o)){n.push({kind:"field",alias:[...t,r].join("."),compiled:()=>o});continue}if(o instanceof ft){const i=o.value;n.push({kind:"field",alias:[...t,r].join("."),compiled:()=>i})}else n.push({kind:"field",alias:[...t,r].join("."),compiled:ct(o)})}}}function xn(t,e,n,r,s,o,i,c,a=new WeakMap,l=new WeakMap){const u=a.get(t);if(u)return u;sn(t);const{optimizedQuery:f,sourceWhereClauses:h}=ki(t);l.set(f,t),an(f,t,l);const p={...e},m={},g={},d={},{alias:v,input:A,collectionId:M}=qi(f.from,p,n,r,s,o,i,c,a,l,m,g);d[v]=A;let x=A.pipe(se(([y,E])=>[y,{[v]:E}]));if(f.join&&f.join.length>0&&(x=zi(x,f.join,d,M,v,p,a,l,n,r,s,o,i,c,t,xn,m,g)),f.where&&f.where.length>0)for(const y of f.where){const E=wn(y),T=ct(E);x=x.pipe(Rt(([K,X])=>Jn(T(X))))}if(f.fnWhere&&f.fnWhere.length>0)for(const y of f.fnWhere)x=x.pipe(Rt(([E,T])=>Jn(y(T))));if(f.distinct&&!f.fnSelect&&!f.select)throw new Go;if(f.fnSelect?x=x.pipe(se(([y,E])=>{const T=f.fnSelect(E);return[y,{...E,__select_results:T}]})):f.select?x=Ji(x,f.select):x=x.pipe(se(([y,E])=>{const T=!f.join&&!f.groupBy?E[v]:E;return[y,{...E,__select_results:T}]})),f.groupBy&&f.groupBy.length>0?x=Hn(x,f.groupBy,f.having,f.select,f.fnHaving):f.select&&Object.values(f.select).some(E=>E.type==="agg")&&(x=Hn(x,[],f.having,f.select,f.fnHaving)),f.having&&(!f.groupBy||f.groupBy.length===0)&&!(f.select?Object.values(f.select).some(E=>E.type==="agg"):!1))throw new Vo;if(f.fnHaving&&f.fnHaving.length>0&&(!f.groupBy||f.groupBy.length===0))for(const y of f.fnHaving)x=x.pipe(Rt(([E,T])=>y(T)));if(f.distinct&&(x=x.pipe(wi(([y,E])=>E.__select_results))),f.orderBy&&f.orderBy.length>0){const T=Ko(t,x,f.orderBy,f.select||{},n[M],i,c,f.limit,f.offset).pipe(se(([X,[Oe,we]])=>{const q=Oe.__select_results,H=on(q);return[X,[H,we]]})),K={collectionId:M,pipeline:T,sourceWhereClauses:h,aliasToCollectionId:m,aliasRemapping:g};return a.set(t,K),K}else if(f.limit!==void 0||f.offset!==void 0)throw new Uo;const _=x.pipe(se(([y,E])=>{const T=E.__select_results,K=on(T);return[y,[K,void 0]]})),I={collectionId:M,pipeline:_,sourceWhereClauses:h,aliasToCollectionId:m,aliasRemapping:g};return a.set(t,I),I}function Qi(t){const e=new Set;if(t.from.type==="collectionRef"&&e.add(t.from.alias),t.join)for(const n of t.join)n.from.type==="collectionRef"&&e.add(n.from.alias);return e}function sn(t,e=new Set){const n=Qi(t);for(const s of n)if(e.has(s))throw new Ho(s,Array.from(e));const r=new Set([...e,...n]);if(t.from.type==="queryRef"&&sn(t.from.query,r),t.join)for(const s of t.join)s.from.type==="queryRef"&&sn(s.from.query,r)}function qi(t,e,n,r,s,o,i,c,a,l,u,f){switch(t.type){case"collectionRef":{const h=e[t.alias];if(!h)throw new Ar(t.alias,t.collection.id,Object.keys(e));return u[t.alias]=t.collection.id,{alias:t.alias,input:h,collectionId:t.collection.id}}case"queryRef":{const h=l.get(t.query)||t.query,p=xn(h,e,n,r,s,o,i,c,a,l);Object.assign(u,p.aliasToCollectionId),Object.assign(f,p.aliasRemapping);const m=Object.keys(p.aliasToCollectionId).find(v=>p.aliasToCollectionId[v]===p.collectionId);m&&m!==t.alias&&(f[t.alias]=m);const d=p.pipeline.pipe(se(v=>{const[A,[M,x]]=v,P=on(M);return[A,P]}));return{alias:t.alias,input:d,collectionId:p.collectionId}}default:throw new Jo(t.type)}}function Zi(t){return t instanceof ft||t&&typeof t=="object"&&"type"in t&&t.type==="val"}function on(t){return Zi(t)?t.value:t}function an(t,e,n){if(t.from.type==="queryRef"&&e.from.type==="queryRef"&&(n.set(t.from.query,e.from.query),an(t.from.query,e.from.query,n)),t.join&&e.join)for(let r=0;r<t.join.length&&r<e.join.length;r++){const s=t.join[r],o=e.join[r];s.from.type==="queryRef"&&o.from.type==="queryRef"&&(n.set(s.from.query,o.from.query),an(s.from.query,o.from.query,n))}}function kn(t,e){const n=t.type;if(n==="val")return new ft(t.value);if(n==="ref"){const r=t.path;if(Array.isArray(r)){if(r[0]===e&&r.length>1)return new ye(r.slice(1));if(r.length===1&&r[0]!==void 0)return new ye([r[0]])}return new ye(Array.isArray(r)?r:[String(r)])}else{const r=[];for(const s of t.args){const o=kn(s,e);r.push(o)}return new vn(t.name,r)}}function Zn(t,e){return t.map(r=>{const s=kn(r.expression,e);return{...r,expression:s}})}const $n=Symbol.for("@tanstack/db.collection-config-builder");class $i{constructor(e,n,r,s){this.alias=e,this.collectionId=n,this.collection=r,this.collectionConfigBuilder=s,this.biggest=void 0,this.subscriptionLoadingPromises=new Map,this.sentToD2Keys=new Set}subscribe(){const e=this.getWhereClauseForAlias();if(e){const n=kn(e,this.alias);return this.subscribeToChanges(n)}return this.subscribeToChanges()}subscribeToChanges(e){let n;const r=this.getOrderByInfo();if(r)n=this.subscribeToOrderedChanges(e,r);else{const c=!this.collectionConfigBuilder.isLazyAlias(this.alias);n=this.subscribeToMatchingChanges(e,c)}const s=()=>{if(!this.subscriptionLoadingPromises.has(n)){let c;const a=new Promise(l=>{c=l});this.subscriptionLoadingPromises.set(n,{resolve:c}),this.collectionConfigBuilder.liveQueryCollection._sync.trackLoadPromise(a)}};n.status==="loadingSubset"&&s();const o=n.on("status:change",c=>{if(c.status==="loadingSubset")s();else{const a=this.subscriptionLoadingPromises.get(n);a&&(this.subscriptionLoadingPromises.delete(n),a.resolve())}}),i=()=>{const c=this.subscriptionLoadingPromises.get(n);c&&(this.subscriptionLoadingPromises.delete(n),c.resolve()),o(),n.unsubscribe()};return this.collectionConfigBuilder.currentSyncState.unsubscribeCallbacks.add(i),n}sendChangesToPipeline(e,n){const r=Array.isArray(e)?e:[...e],s=[];for(const a of r){if(a.type==="insert"){if(this.sentToD2Keys.has(a.key))continue;this.sentToD2Keys.add(a.key)}else a.type==="delete"&&this.sentToD2Keys.delete(a.key);s.push(a)}const o=this.collectionConfigBuilder.currentSyncState.inputs[this.alias],c=ea(o,s,this.collection.config.getKey)>0?n:void 0;this.collectionConfigBuilder.scheduleGraphRun(c,{alias:this.alias})}subscribeToMatchingChanges(e,n=!1){const r=o=>{this.sendChangesToPipeline(o)};return this.collection.subscribeChanges(r,{...n&&{includeInitialState:n},whereExpression:e})}subscribeToOrderedChanges(e,n){const{orderBy:r,offset:s,limit:o,index:i}=n,c=f=>{const h=ta(f);this.sendChangesToPipelineWithTracking(h,a)},a=this.collection.subscribeChanges(c,{whereExpression:e}),l=this.collection.on("truncate",()=>{this.biggest=void 0,this.sentToD2Keys.clear()});a.on("unsubscribed",()=>{l()});const u=Zn(r,this.alias);return i?(a.setOrderByIndex(i),a.requestLimitedSnapshot({limit:s+o,orderBy:u})):a.requestSnapshot({orderBy:u,limit:s+o}),a}loadMoreIfNeeded(e){const n=this.getOrderByInfo();if(!n)return!0;const{dataNeeded:r}=n;if(!r)return!0;const s=r();return s>0&&this.loadNextItems(s,e),!0}sendChangesToPipelineWithTracking(e,n){const r=this.getOrderByInfo();if(!r){this.sendChangesToPipeline(e);return}const s=this.trackSentValues(e,r.comparator),o=n;o[$n]??=this.loadMoreIfNeeded.bind(this,n),this.sendChangesToPipeline(s,o[$n])}loadNextItems(e,n){const r=this.getOrderByInfo();if(!r)return;const{orderBy:s,valueExtractorForRawRow:o,offset:i}=r,c=this.biggest,a=c?o(c):void 0,l=a!==void 0?Array.isArray(a)?a:[a]:void 0,u=Zn(s,this.alias);n.requestLimitedSnapshot({orderBy:u,limit:e,minValues:l,offset:i})}getWhereClauseForAlias(){const e=this.collectionConfigBuilder.sourceWhereClausesCache;if(e)return e.get(this.alias)}getOrderByInfo(){const e=this.collectionConfigBuilder.optimizableOrderByCollections[this.collectionId];if(e&&e.alias===this.alias)return e}*trackSentValues(e,n){for(const r of e)r.type!=="delete"&&(this.biggest?n(this.biggest,r.value)<0&&(this.biggest=r.value):this.biggest=r.value),yield r}}function ea(t,e,n){const r=[];for(const s of e){const o=n(s.value);s.type==="insert"?r.push([[o,s.value],1]):s.type==="update"?(r.push([[o,s.previousValue],-1]),r.push([[o,s.value],1])):r.push([[o,s.value],-1])}return r.length!==0&&t.sendData(new bn(r)),r.length}function*ta(t){for(const e of t)e.type==="update"?(yield{type:"delete",key:e.key,value:e.previousValue},yield{type:"insert",key:e.key,value:e.value}):yield e}const Dr=new WeakMap;function na(t){return t.utils?.[Ir]?.getBuilder?.()}function ra(t,e){Dr.set(t,e)}function sa(t){return Dr.get(t)}let oa=0;class ia{constructor(e){this.config=e,this.compiledAliasToCollectionId={},this.resultKeys=new WeakMap,this.orderByIndices=new WeakMap,this.isGraphRunning=!1,this.runCount=0,this.isInErrorState=!1,this.aliasDependencies={},this.builderDependencies=new Set,this.pendingGraphRuns=new Map,this.subscriptions={},this.lazySourcesCallbacks={},this.lazySources=new Set,this.optimizableOrderByCollections={},this.id=e.id||`live-query-${++oa}`,this.query=aa(e),this.collections=la(this.query);const n=ua(this.query);this.collectionByAlias={};for(const[r,s]of n.entries()){const o=this.collections[r];if(o)for(const i of s)this.collectionByAlias[i]=o}this.query.orderBy&&this.query.orderBy.length>0&&(this.compare=ca(this.orderByIndices)),this.compareOptions=this.config.defaultStringCollation??Wr(this.query).compareOptions,this.compileBasePipeline()}hasJoins(e){return!!(e.join&&e.join.length>0||e.from.type==="queryRef"&&this.hasJoins(e.from.query))}getConfig(){return{id:this.id,getKey:this.config.getKey||(e=>this.resultKeys.get(e)),sync:this.getSyncConfig(),compare:this.compare,defaultStringCollation:this.compareOptions,gcTime:this.config.gcTime||5e3,schema:this.config.schema,onInsert:this.config.onInsert,onUpdate:this.config.onUpdate,onDelete:this.config.onDelete,startSync:this.config.startSync,singleResult:this.query.singleResult,utils:{getRunCount:this.getRunCount.bind(this),setWindow:this.setWindow.bind(this),getWindow:this.getWindow.bind(this),[Ir]:{getBuilder:()=>this,hasCustomGetKey:!!this.config.getKey,hasJoins:this.hasJoins(this.query)}}}}setWindow(e){if(!this.windowFn)throw new Yo;return this.currentWindow=e,this.windowFn(e),this.maybeRunGraphFn?.(),this.liveQueryCollection?.isLoadingSubset?new Promise(n=>{const r=this.liveQueryCollection.on("loadingSubset:change",s=>{s.isLoadingSubset||(r(),n())})}):!0}getWindow(){if(!(!this.windowFn||!this.currentWindow))return{offset:this.currentWindow.offset??0,limit:this.currentWindow.limit??0}}getCollectionIdForAlias(e){const n=this.compiledAliasToCollectionId[e];if(n)return n;const r=this.collectionByAlias[e];if(r)return r.id;throw new Error(`Unknown source alias "${e}"`)}isLazyAlias(e){return this.lazySources.has(e)}maybeRunGraph(e){if(!this.isGraphRunning){if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("maybeRunGraph called without active sync session. This should not happen.");this.isGraphRunning=!0;try{const{begin:n,commit:r}=this.currentSyncConfig,s=this.currentSyncState;if(this.isInErrorState)return;if(s.subscribedToAllCollections){for(;s.graph.pendingWork();)s.graph.run(),e?.();s.messagesCount===0&&(n(),r(),this.updateLiveQueryStatus(this.currentSyncConfig))}}finally{this.isGraphRunning=!1}}}scheduleGraphRun(e,n){const r=n?.contextId??Xo()?.id,s=n?.jobId??this,o=(()=>{if(n?.dependencies)return n.dependencies;const a=new Set(this.builderDependencies);if(n?.alias){const l=this.aliasDependencies[n.alias];if(l)for(const u of l)a.add(u)}return a.delete(this),Array.from(a)})();if(r)for(const a of o)typeof a.scheduleGraphRun=="function"&&a.scheduleGraphRun(void 0,{contextId:r});if(!this.currentSyncConfig||!this.currentSyncState)throw new Error("scheduleGraphRun called without active sync session. This should not happen.");let i=r?this.pendingGraphRuns.get(r):void 0;i||(i={loadCallbacks:new Set},r&&this.pendingGraphRuns.set(r,i)),e&&i.loadCallbacks.add(e);const c=r?void 0:i;Yn.schedule({contextId:r,jobId:s,dependencies:o,run:()=>this.executeGraphRun(r,c)})}clearPendingGraphRun(e){this.pendingGraphRuns.delete(e)}hasPendingGraphRun(e){return this.pendingGraphRuns.has(e)}executeGraphRun(e,n){const r=n??(e?this.pendingGraphRuns.get(e):void 0);if(e&&this.pendingGraphRuns.delete(e),!r||!this.currentSyncConfig||!this.currentSyncState)return;this.incrementRunCount();const s=()=>{let o=!0,i;if(r.loadCallbacks.forEach(c=>{try{o=c()&&o}catch(a){o=!1,i??=a}}),i)throw i;return o};this.maybeRunGraph(s)}getSyncConfig(){return{rowUpdateMode:"full",sync:this.syncFn.bind(this)}}incrementRunCount(){this.runCount++}getRunCount(){return this.runCount}syncFn(e){this.liveQueryCollection=e.collection,this.currentSyncConfig=e;const n={messagesCount:0,subscribedToAllCollections:!1,unsubscribeCallbacks:new Set},r=this.extendPipelineWithChangeProcessing(e,n);this.currentSyncState=r,this.unsubscribeFromSchedulerClears=Yn.onClear(o=>{this.clearPendingGraphRun(o)});const s=this.subscribeToAllCollections(e,r);return this.maybeRunGraphFn=()=>this.scheduleGraphRun(s),this.scheduleGraphRun(s),()=>{n.unsubscribeCallbacks.forEach(o=>o()),this.currentSyncConfig=void 0,this.currentSyncState=void 0,this.pendingGraphRuns.clear(),this.graphCache=void 0,this.inputsCache=void 0,this.pipelineCache=void 0,this.sourceWhereClausesCache=void 0,this.lazySources.clear(),this.optimizableOrderByCollections={},this.lazySourcesCallbacks={},Object.keys(this.subscriptions).forEach(o=>delete this.subscriptions[o]),this.compiledAliasToCollectionId={},this.unsubscribeFromSchedulerClears?.(),this.unsubscribeFromSchedulerClears=void 0}}compileBasePipeline(){this.graphCache=new Qo,this.inputsCache=Object.fromEntries(Object.keys(this.collectionByAlias).map(r=>[r,this.graphCache.newInput()]));const e=xn(this.query,this.inputsCache,this.collections,this.subscriptions,this.lazySourcesCallbacks,this.lazySources,this.optimizableOrderByCollections,r=>{this.windowFn=r});this.pipelineCache=e.pipeline,this.sourceWhereClausesCache=e.sourceWhereClauses,this.compiledAliasToCollectionId=e.aliasToCollectionId;const n=Object.keys(this.compiledAliasToCollectionId).filter(r=>!Object.hasOwn(this.inputsCache,r));if(n.length>0)throw new qo(n)}maybeCompileBasePipeline(){return(!this.graphCache||!this.inputsCache||!this.pipelineCache)&&this.compileBasePipeline(),{graph:this.graphCache,inputs:this.inputsCache,pipeline:this.pipelineCache}}extendPipelineWithChangeProcessing(e,n){const{begin:r,commit:s}=e,{graph:o,inputs:i,pipeline:c}=this.maybeCompileBasePipeline();return c.pipe(mi(a=>{const l=a.getInner();n.messagesCount+=l.length,r(),l.reduce(fa,new Map).forEach(this.applyChanges.bind(this,e)),s()})),o.finalize(),n.graph=o,n.inputs=i,n.pipeline=c,n}applyChanges(e,n,r){const{write:s,collection:o}=e,{deletes:i,inserts:c,value:a,orderByIndex:l}=n;if(this.resultKeys.set(a,r),l!==void 0&&this.orderByIndices.set(a,l),c&&i===0)s({value:a,type:"insert"});else if(c>i||c===i&&o.has(o.getKeyFromItem(a)))s({value:a,type:"update"});else if(i>0)s({value:a,type:"delete"});else throw new Error(`Could not apply changes: ${JSON.stringify(n)}. This should never happen.`)}handleSourceStatusChange(e,n,r){const{status:s}=r;if(s==="error"){this.transitionToError(`Source collection '${n}' entered error state`);return}if(s==="cleaned-up"){this.transitionToError(`Source collection '${n}' was manually cleaned up while live query '${this.id}' depends on it. Live queries prevent automatic GC, so this was likely a manual cleanup() call.`);return}this.updateLiveQueryStatus(e)}updateLiveQueryStatus(e){const{markReady:n}=e;this.isInErrorState||this.allCollectionsReady()&&n()}transitionToError(e){this.isInErrorState=!0,console.error(`[Live Query Error] ${e}`),this.liveQueryCollection?._lifecycle.setStatus("error")}allCollectionsReady(){return Object.values(this.collections).every(e=>e.isReady())}subscribeToAllCollections(e,n){const r=Object.entries(this.compiledAliasToCollectionId);if(r.length===0)throw new Error(`Compiler returned no alias metadata for query '${this.id}'. This should not happen; please report.`);const s=r.map(([i,c])=>{const a=this.collectionByAlias[i]??this.collections[c],l=sa(a);l&&l!==this?(this.aliasDependencies[i]=[l],this.builderDependencies.add(l)):this.aliasDependencies[i]=[];const u=new $i(i,c,a,this),f=a.on("status:change",m=>{this.handleSourceStatusChange(e,c,m)});n.unsubscribeCallbacks.add(f);const h=u.subscribe();return this.subscriptions[i]=h,u.loadMoreIfNeeded.bind(u,h)}),o=()=>(s.map(i=>i()),!0);return n.subscribedToAllCollections=!0,this.updateLiveQueryStatus(e),o}}function aa(t){return typeof t.query=="function"?xi(t.query):_r(t.query)}function ca(t){return(e,n)=>{const r=t.get(e),s=t.get(n);return r&&s?r<s?-1:r>s?1:0:0}}function la(t){const e={};function n(s){s.type==="collectionRef"?e[s.collection.id]=s.collection:s.type==="queryRef"&&r(s.query)}function r(s){if(s.from&&n(s.from),s.join&&Array.isArray(s.join))for(const o of s.join)o.from&&n(o.from)}return r(t),e}function Wr(t){const e=t.from;if(e.type==="collectionRef")return e.collection;if(e.type==="queryRef")return Wr(e.query);throw new Error(`Failed to extract collection. Invalid FROM clause: ${JSON.stringify(t)}`)}function ua(t){const e=new Map;function n(s){if(s)if(s.type==="collectionRef"){const{id:o}=s.collection,i=e.get(o);i?i.add(s.alias):e.set(o,new Set([s.alias]))}else s.type==="queryRef"&&r(s.query)}function r(s){if(s&&(n(s.from),s.join))for(const o of s.join)n(o.from)}return r(t),e}function fa(t,[[e,n],r]){const[s,o]=n,i=t.get(e)||{deletes:0,inserts:0,value:s,orderByIndex:o};return r<0?i.deletes+=Math.abs(r):r>0&&(i.inserts+=r,i.value=s,i.orderByIndex=o),t.set(e,i),t}function er(t){return new ia(t).getConfig()}function tr(t){if(typeof t=="function"){const n=er({query:t});return nr(n)}else{const e=t,n=er(e);return e.utils&&(n.utils={...n.utils,...e.utils}),nr(n)}}function nr(t){const e=Zo(t),n=na(t);return n&&ra(e,n),e}class jr extends Map{#e=new Map;#t=B(0);#n=B(0);#r=Gn||-1;constructor(e){if(super(),e){for(var[n,r]of e)super.set(n,r);this.#n.v=super.size}}#s(e){return Gn===this.#r?B(e):qt(e)}has(e){var n=this.#e,r=n.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#s(0),n.set(e,r);else return b(this.#t),!1}return b(r),!0}forEach(e,n){this.#o(),super.forEach(e,n)}get(e){var n=this.#e,r=n.get(e);if(r===void 0){var s=super.get(e);if(s!==void 0)r=this.#s(0),n.set(e,r);else{b(this.#t);return}}return b(r),super.get(e)}set(e,n){var r=this.#e,s=r.get(e),o=super.get(e),i=super.set(e,n),c=this.#t;if(s===void 0)s=this.#s(0),r.set(e,s),k(this.#n,super.size),Ye(c);else if(o!==n){Ye(s);var a=c.reactions===null?null:new Set(c.reactions),l=a===null||!s.reactions?.every(u=>a.has(u));l&&Ye(c)}return i}delete(e){var n=this.#e,r=n.get(e),s=super.delete(e);return r!==void 0&&(n.delete(e),k(this.#n,super.size),k(r,-1),Ye(this.#t)),s}clear(){if(super.size!==0){super.clear();var e=this.#e;k(this.#n,0);for(var n of e.values())k(n,-1);Ye(this.#t),e.clear()}}#o(){b(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var n of super.keys())if(!e.has(n)){var r=this.#s(0);e.set(n,r)}}for([,r]of this.#e)b(r)}keys(){return b(this.#t),super.keys()}values(){return this.#o(),super.values()}entries(){return this.#o(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return b(this.#n),super.size}}function rr(t){return typeof t=="function"?t():t}function Tu(t,e=[]){const n=L(()=>{let a=t;try{const u=rr(t);u!==t&&(a=u)}catch{a=t}if(a&&typeof a=="object"&&typeof a.subscribeChanges=="function"&&typeof a.startSyncImmediate=="function"&&typeof a.id=="string")return a.status==="idle"&&a.startSyncImmediate(),a;if(e.forEach(u=>rr(u)),typeof a=="function"){const u=new V,f=a(u);return f==null?null:tr({query:a,startSync:!0})}else return tr({...a,startSync:!0})}),r=new jr;let s=B(at([])),o=B(at(b(n)?b(n).status:"disabled"));const i=a=>{Ee(()=>{k(s,[],!0),b(s).push(...Array.from(a.values()))})};let c=null;return ve(()=>{const a=b(n);if(!a){k(o,"disabled"),Ee(()=>{r.clear(),k(s,[],!0)}),c&&(c(),c=null);return}k(o,a.status,!0),c&&c(),Ee(()=>{r.clear();for(const[u,f]of a.entries())r.set(u,f)}),i(a),a.onFirstReady(()=>{k(o,a.status,!0)});const l=a.subscribeChanges(u=>{Ee(()=>{for(const f of u)switch(f.type){case"insert":case"update":r.set(f.key,f.value);break;case"delete":r.delete(f.key);break}}),i(a),k(o,a.status,!0)},{includeInitialState:!0});return c=l.unsubscribe.bind(l),a.status==="idle"&&a.preload().catch(console.error),()=>{c&&(c(),c=null)}}),{get state(){return r},get data(){return b(s)},get collection(){return b(n)},get status(){return b(o)},get isLoading(){return b(o)==="loading"},get isReady(){return b(o)==="ready"||b(o)==="disabled"},get isIdle(){return b(o)==="idle"},get isError(){return b(o)==="error"},get isCleanedUp(){return b(o)==="cleaned-up"}}}const da={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var ha=We("<svg><!><!></svg>");function Au(t,e){ue(e,!0);const n=F(e,"color",3,"currentColor"),r=F(e,"size",3,24),s=F(e,"strokeWidth",3,2),o=F(e,"absoluteStrokeWidth",3,!1),i=F(e,"iconNode",19,()=>[]),c=ii(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var a=ha();Xn(a,f=>({...da,...c,width:r(),height:r(),stroke:n(),"stroke-width":f,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>o()?Number(s())*24/Number(r()):s()]);var l=Z(a);Or(l,17,i,Mr,(f,h)=>{var p=L(()=>fo(b(h),2));let m=()=>b(p)[0],g=()=>b(p)[1];var d=ne(),v=te(d);di(v,m,!0,(A,M)=>{Xn(A,()=>({...g()}))}),j(f,d)});var u=me(l);Re(u,()=>e.children??Ie),$(a),j(t,a),fe()}const pa=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},ga=(t,e)=>({classGroupId:t,validator:e}),Gr=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),Ft="-",sr=[],ma="arbitrary..",ba=t=>{const e=va(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return ya(i);const c=i.split(Ft),a=c[0]===""&&c.length>1?1:0;return Vr(c,a,e)},getConflictingClassGroupIds:(i,c)=>{if(c){const a=r[i],l=n[i];return a?l?pa(l,a):a:l||sr}return n[i]||sr}}},Vr=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const s=t[e],o=n.nextPart.get(s);if(o){const l=Vr(t,e+1,o);if(l)return l}const i=n.validators;if(i===null)return;const c=e===0?t.join(Ft):t.slice(e).join(Ft),a=i.length;for(let l=0;l<a;l++){const u=i[l];if(u.validator(c))return u.classGroupId}},ya=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?ma+r:void 0})(),va=t=>{const{theme:e,classGroups:n}=t;return wa(n,e)},wa=(t,e)=>{const n=Gr();for(const r in t){const s=t[r];En(s,n,r,e)}return n},En=(t,e,n,r)=>{const s=t.length;for(let o=0;o<s;o++){const i=t[o];Sa(i,e,n,r)}},Sa=(t,e,n,r)=>{if(typeof t=="string"){Ca(t,e,n);return}if(typeof t=="function"){xa(t,e,n,r);return}ka(t,e,n,r)},Ca=(t,e,n)=>{const r=t===""?e:Kr(e,t);r.classGroupId=n},xa=(t,e,n,r)=>{if(Ea(t)){En(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(ga(n,t))},ka=(t,e,n,r)=>{const s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){const[c,a]=s[i];En(a,Kr(e,c),n,r)}},Kr=(t,e)=>{let n=t;const r=e.split(Ft),s=r.length;for(let o=0;o<s;o++){const i=r[o];let c=n.nextPart.get(i);c||(c=Gr(),n.nextPart.set(i,c)),n=c}return n},Ea=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,Ta=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const s=(o,i)=>{n[o]=i,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(o){let i=n[o];if(i!==void 0)return i;if((i=r[o])!==void 0)return s(o,i),i},set(o,i){o in n?n[o]=i:s(o,i)}}},cn="!",or=":",Aa=[],ir=(t,e,n,r,s)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),Ia=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const o=[];let i=0,c=0,a=0,l;const u=s.length;for(let g=0;g<u;g++){const d=s[g];if(i===0&&c===0){if(d===or){o.push(s.slice(a,g)),a=g+1;continue}if(d==="/"){l=g;continue}}d==="["?i++:d==="]"?i--:d==="("?c++:d===")"&&c--}const f=o.length===0?s:s.slice(a);let h=f,p=!1;f.endsWith(cn)?(h=f.slice(0,-1),p=!0):f.startsWith(cn)&&(h=f.slice(1),p=!0);const m=l&&l>a?l-a:void 0;return ir(o,p,h,m)};if(e){const s=e+or,o=r;r=i=>i.startsWith(s)?o(i.slice(s.length)):ir(Aa,!1,i,void 0,!0)}if(n){const s=r;r=o=>n({className:o,parseClassName:s})}return r},Ra=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let o=0;o<n.length;o++){const i=n[o],c=i[0]==="[",a=e.has(i);c||a?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(i)):s.push(i)}return s.length>0&&(s.sort(),r.push(...s)),r}},Ma=t=>({cache:Ta(t.cacheSize),parseClassName:Ia(t),sortModifiers:Ra(t),...ba(t)}),Oa=/\s+/,Na=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,i=[],c=t.trim().split(Oa);let a="";for(let l=c.length-1;l>=0;l-=1){const u=c[l],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=n(u);if(f){a=u+(a.length>0?" "+a:a);continue}let d=!!g,v=r(d?m.substring(0,g):m);if(!v){if(!d){a=u+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=u+(a.length>0?" "+a:a);continue}d=!1}const A=h.length===0?"":h.length===1?h[0]:o(h).join(":"),M=p?A+cn:A,x=M+v;if(i.indexOf(x)>-1)continue;i.push(x);const P=s(v,d);for(let _=0;_<P.length;++_){const I=P[_];i.push(M+I)}a=u+(a.length>0?" "+a:a)}return a},_a=(...t)=>{let e=0,n,r,s="";for(;e<t.length;)(n=t[e++])&&(r=Ur(n))&&(s&&(s+=" "),s+=r);return s},Ur=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ur(t[r]))&&(n&&(n+=" "),n+=e);return n},ln=(t,...e)=>{let n,r,s,o;const i=a=>{const l=e.reduce((u,f)=>f(u),t());return n=Ma(l),r=n.cache.get,s=n.cache.set,o=c,c(a)},c=a=>{const l=r(a);if(l)return l;const u=Na(a,n);return s(a,u),u};return o=i,(...a)=>o(_a(...a))},Pa=[],W=t=>{const e=n=>n[t]||Pa;return e.isThemeGetter=!0,e},Hr=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Jr=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Fa=/^\d+\/\d+$/,La=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ba=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,za=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Da=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wa=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pe=t=>Fa.test(t),R=t=>!!t&&!Number.isNaN(Number(t)),ge=t=>!!t&&Number.isInteger(Number(t)),Ht=t=>t.endsWith("%")&&R(t.slice(0,-1)),ie=t=>La.test(t),ja=()=>!0,Ga=t=>Ba.test(t)&&!za.test(t),Yr=()=>!1,Va=t=>Da.test(t),Ka=t=>Wa.test(t),Ua=t=>!w(t)&&!S(t),Ha=t=>je(t,qr,Yr),w=t=>Hr.test(t),Ce=t=>je(t,Zr,Ga),Jt=t=>je(t,qa,R),ar=t=>je(t,Xr,Yr),Ja=t=>je(t,Qr,Ka),St=t=>je(t,$r,Va),S=t=>Jr.test(t),Xe=t=>Ge(t,Zr),Ya=t=>Ge(t,Za),cr=t=>Ge(t,Xr),Xa=t=>Ge(t,qr),Qa=t=>Ge(t,Qr),Ct=t=>Ge(t,$r,!0),je=(t,e,n)=>{const r=Hr.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Ge=(t,e,n=!1)=>{const r=Jr.exec(t);return r?r[1]?e(r[1]):n:!1},Xr=t=>t==="position"||t==="percentage",Qr=t=>t==="image"||t==="url",qr=t=>t==="length"||t==="size"||t==="bg-size",Zr=t=>t==="length",qa=t=>t==="number",Za=t=>t==="family-name",$r=t=>t==="shadow",un=()=>{const t=W("color"),e=W("font"),n=W("text"),r=W("font-weight"),s=W("tracking"),o=W("leading"),i=W("breakpoint"),c=W("container"),a=W("spacing"),l=W("radius"),u=W("shadow"),f=W("inset-shadow"),h=W("text-shadow"),p=W("drop-shadow"),m=W("blur"),g=W("perspective"),d=W("aspect"),v=W("ease"),A=W("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...x(),S,w],_=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],y=()=>[S,w,a],E=()=>[Pe,"full","auto",...y()],T=()=>[ge,"none","subgrid",S,w],K=()=>["auto",{span:["full",ge,S,w]},ge,S,w],X=()=>[ge,"auto",S,w],Oe=()=>["auto","min","max","fr",S,w],we=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...y()],J=()=>[Pe,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...y()],C=()=>[t,S,w],de=()=>[...x(),cr,ar,{position:[S,w]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],bt=()=>["auto","cover","contain",Xa,Ha,{size:[S,w]}],yt=()=>[Ht,Xe,Ce],z=()=>["","none","full",l,S,w],Y=()=>["",R,Xe,Ce],Se=()=>["solid","dashed","dotted","double"],Ke=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>[R,Ht,cr,ar],Ue=()=>["","none",m,S,w],oe=()=>["none",R,S,w],Ne=()=>["none",R,S,w],He=()=>[R,S,w],Je=()=>[Pe,"full",...y()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ie],breakpoint:[ie],color:[ja],container:[ie],"drop-shadow":[ie],ease:["in","out","in-out"],font:[Ua],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ie],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ie],shadow:[ie],spacing:["px",R],text:[ie],"text-shadow":[ie],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pe,w,S,d]}],container:["container"],columns:[{columns:[R,w,S,c]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[ge,"auto",S,w]}],basis:[{basis:[Pe,"full","auto",c,...y()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[R,Pe,"auto","initial","none",w]}],grow:[{grow:["",R,S,w]}],shrink:[{shrink:["",R,S,w]}],order:[{order:[ge,"first","last","none",S,w]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:K()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:K()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Oe()}],"auto-rows":[{"auto-rows":Oe()}],gap:[{gap:y()}],"gap-x":[{"gap-x":y()}],"gap-y":[{"gap-y":y()}],"justify-content":[{justify:[...we(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...we()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":we()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:y()}],px:[{px:y()}],py:[{py:y()}],ps:[{ps:y()}],pe:[{pe:y()}],pt:[{pt:y()}],pr:[{pr:y()}],pb:[{pb:y()}],pl:[{pl:y()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":y()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":y()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[c,"screen",...J()]}],"min-w":[{"min-w":[c,"screen","none",...J()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[i]},...J()]}],h:[{h:["screen","lh",...J()]}],"min-h":[{"min-h":["screen","lh","none",...J()]}],"max-h":[{"max-h":["screen","lh",...J()]}],"font-size":[{text:["base",n,Xe,Ce]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,S,Jt]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ht,w]}],"font-family":[{font:[Ya,w,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,S,w]}],"line-clamp":[{"line-clamp":[R,"none",S,Jt]}],leading:[{leading:[o,...y()]}],"list-image":[{"list-image":["none",S,w]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",S,w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[R,"from-font","auto",S,Ce]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[R,"auto",S,w]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",S,w]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",S,w]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:bt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ge,S,w],radial:["",S,w],conic:[ge,S,w]},Qa,Ja]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:yt()}],"gradient-via-pos":[{via:yt()}],"gradient-to-pos":[{to:yt()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:Y()}],"border-w-x":[{"border-x":Y()}],"border-w-y":[{"border-y":Y()}],"border-w-s":[{"border-s":Y()}],"border-w-e":[{"border-e":Y()}],"border-w-t":[{"border-t":Y()}],"border-w-r":[{"border-r":Y()}],"border-w-b":[{"border-b":Y()}],"border-w-l":[{"border-l":Y()}],"divide-x":[{"divide-x":Y()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Y()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[R,S,w]}],"outline-w":[{outline:["",R,Xe,Ce]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,Ct,St]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",f,Ct,St]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[R,Ce]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":Y()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",h,Ct,St]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[R,S,w]}],"mix-blend":[{"mix-blend":[...Ke(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ke()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[R]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[S,w]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":x()}],"mask-image-conic-pos":[{"mask-conic":[R]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:bt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",S,w]}],filter:[{filter:["","none",S,w]}],blur:[{blur:Ue()}],brightness:[{brightness:[R,S,w]}],contrast:[{contrast:[R,S,w]}],"drop-shadow":[{"drop-shadow":["","none",p,Ct,St]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",R,S,w]}],"hue-rotate":[{"hue-rotate":[R,S,w]}],invert:[{invert:["",R,S,w]}],saturate:[{saturate:[R,S,w]}],sepia:[{sepia:["",R,S,w]}],"backdrop-filter":[{"backdrop-filter":["","none",S,w]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[R,S,w]}],"backdrop-contrast":[{"backdrop-contrast":[R,S,w]}],"backdrop-grayscale":[{"backdrop-grayscale":["",R,S,w]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[R,S,w]}],"backdrop-invert":[{"backdrop-invert":["",R,S,w]}],"backdrop-opacity":[{"backdrop-opacity":[R,S,w]}],"backdrop-saturate":[{"backdrop-saturate":[R,S,w]}],"backdrop-sepia":[{"backdrop-sepia":["",R,S,w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":y()}],"border-spacing-x":[{"border-spacing-x":y()}],"border-spacing-y":[{"border-spacing-y":y()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",S,w]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[R,"initial",S,w]}],ease:[{ease:["linear","initial",v,S,w]}],delay:[{delay:[R,S,w]}],animate:[{animate:["none",A,S,w]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,S,w]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:Ne()}],"scale-x":[{"scale-x":Ne()}],"scale-y":[{"scale-y":Ne()}],"scale-z":[{"scale-z":Ne()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[S,w,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",S,w]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":y()}],"scroll-mx":[{"scroll-mx":y()}],"scroll-my":[{"scroll-my":y()}],"scroll-ms":[{"scroll-ms":y()}],"scroll-me":[{"scroll-me":y()}],"scroll-mt":[{"scroll-mt":y()}],"scroll-mr":[{"scroll-mr":y()}],"scroll-mb":[{"scroll-mb":y()}],"scroll-ml":[{"scroll-ml":y()}],"scroll-p":[{"scroll-p":y()}],"scroll-px":[{"scroll-px":y()}],"scroll-py":[{"scroll-py":y()}],"scroll-ps":[{"scroll-ps":y()}],"scroll-pe":[{"scroll-pe":y()}],"scroll-pt":[{"scroll-pt":y()}],"scroll-pr":[{"scroll-pr":y()}],"scroll-pb":[{"scroll-pb":y()}],"scroll-pl":[{"scroll-pl":y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",S,w]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[R,Xe,Ce,Jt]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$a=(t,{cacheSize:e,prefix:n,experimentalParseClassName:r,extend:s={},override:o={}})=>(rt(t,"cacheSize",e),rt(t,"prefix",n),rt(t,"experimentalParseClassName",r),xt(t.theme,o.theme),xt(t.classGroups,o.classGroups),xt(t.conflictingClassGroups,o.conflictingClassGroups),xt(t.conflictingClassGroupModifiers,o.conflictingClassGroupModifiers),rt(t,"orderSensitiveModifiers",o.orderSensitiveModifiers),kt(t.theme,s.theme),kt(t.classGroups,s.classGroups),kt(t.conflictingClassGroups,s.conflictingClassGroups),kt(t.conflictingClassGroupModifiers,s.conflictingClassGroupModifiers),es(t,s,"orderSensitiveModifiers"),t),rt=(t,e,n)=>{n!==void 0&&(t[e]=n)},xt=(t,e)=>{if(e)for(const n in e)rt(t,n,e[n])},kt=(t,e)=>{if(e)for(const n in e)es(t,e,n)},es=(t,e,n)=>{const r=e[n];r!==void 0&&(t[n]=t[n]?t[n].concat(r):r)},Iu=(t,...e)=>typeof t=="function"?ln(un,t,...e):ln(()=>$a(un(),t),...e),ec=ln(un);function tc(...t){return ec(Mt(t))}function nc(t){return typeof t=="function"}function dt(t){return t!==null&&typeof t=="object"}const rc=["string","number","bigint","boolean"];function fn(t){return t==null||rc.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>fn(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const De=Symbol("box"),Vt=Symbol("is-writable");function N(t,e){const n=L(t);return e?{[De]:!0,[Vt]:!0,get current(){return b(n)},set current(r){e(r)}}:{[De]:!0,get current(){return t()}}}function ht(t){return dt(t)&&De in t}function Tn(t){return ht(t)&&Vt in t}function sc(t){return ht(t)?t:nc(t)?N(t):ts(t)}function oc(t){return Object.entries(t).reduce((e,[n,r])=>ht(r)?(Tn(r)?Object.defineProperty(e,n,{get(){return r.current},set(s){r.current=s}}):Object.defineProperty(e,n,{get(){return r.current}}),e):Object.assign(e,{[n]:r}),{})}function ic(t){return Tn(t)?{[De]:!0,get current(){return t.current}}:t}function ts(t){let e=B(at(t));return{[De]:!0,[Vt]:!0,get current(){return b(e)},set current(n){k(e,n,!0)}}}function Me(t){let e=B(at(t));return{[De]:!0,[Vt]:!0,get current(){return b(e)},set current(n){k(e,n,!0)}}}Me.from=sc;Me.with=N;Me.flatten=oc;Me.readonly=ic;Me.isBox=ht;Me.isWritableBox=Tn;function ns(...t){return function(e){for(const n of t)if(n){if(e.defaultPrevented)return;typeof n=="function"?n.call(this,e):n.current?.call(this,e)}}}var lr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ac=/\n/g,cc=/^\s*/,lc=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,uc=/^:\s*/,fc=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,dc=/^[;\s]*/,hc=/^\s+|\s+$/g,pc=`
`,ur="/",fr="*",xe="",gc="comment",mc="declaration";function bc(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function s(m){var g=m.match(ac);g&&(n+=g.length);var d=m.lastIndexOf(pc);r=~d?m.length-d:r+m.length}function o(){var m={line:n,column:r};return function(g){return g.position=new i(m),l(),g}}function i(m){this.start=m,this.end={line:n,column:r},this.source=e.source}i.prototype.content=t;function c(m){var g=new Error(e.source+":"+n+":"+r+": "+m);if(g.reason=m,g.filename=e.source,g.line=n,g.column=r,g.source=t,!e.silent)throw g}function a(m){var g=m.exec(t);if(g){var d=g[0];return s(d),t=t.slice(d.length),g}}function l(){a(cc)}function u(m){var g;for(m=m||[];g=f();)g!==!1&&m.push(g);return m}function f(){var m=o();if(!(ur!=t.charAt(0)||fr!=t.charAt(1))){for(var g=2;xe!=t.charAt(g)&&(fr!=t.charAt(g)||ur!=t.charAt(g+1));)++g;if(g+=2,xe===t.charAt(g-1))return c("End of comment missing");var d=t.slice(2,g-2);return r+=2,s(d),t=t.slice(g),r+=2,m({type:gc,comment:d})}}function h(){var m=o(),g=a(lc);if(g){if(f(),!a(uc))return c("property missing ':'");var d=a(fc),v=m({type:mc,property:dr(g[0].replace(lr,xe)),value:d?dr(d[0].replace(lr,xe)):xe});return a(dc),v}}function p(){var m=[];u(m);for(var g;g=h();)g!==!1&&(m.push(g),u(m));return m}return l(),p()}function dr(t){return t?t.replace(hc,xe):xe}function yc(t,e){let n=null;if(!t||typeof t!="string")return n;const r=bc(t),s=typeof e=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:i,value:c}=o;s?e(i,c,o):c&&(n=n||{},n[i]=c)}),n}const vc=/\d/,wc=["-","_","/","."];function Sc(t=""){if(!vc.test(t))return t!==t.toLowerCase()}function Cc(t){const e=[];let n="",r,s;for(const o of t){const i=wc.includes(o);if(i===!0){e.push(n),n="",r=void 0;continue}const c=Sc(o);if(s===!1){if(r===!1&&c===!0){e.push(n),n=o,r=c;continue}if(r===!0&&c===!1&&n.length>1){const a=n.at(-1);e.push(n.slice(0,Math.max(0,n.length-1))),n=a+o,r=c;continue}}n+=o,r=c,s=i}return e.push(n),e}function rs(t){return t?Cc(t).map(e=>kc(e)).join(""):""}function xc(t){return Ec(rs(t||""))}function kc(t){return t?t[0].toUpperCase()+t.slice(1):""}function Ec(t){return t?t[0].toLowerCase()+t.slice(1):""}function Et(t){if(!t)return{};const e={};function n(r,s){if(r.startsWith("-moz-")||r.startsWith("-webkit-")||r.startsWith("-ms-")||r.startsWith("-o-")){e[rs(r)]=s;return}if(r.startsWith("--")){e[r]=s;return}e[xc(r)]=s}return yc(t,n),e}function Te(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}function Tc(t,e){const n=RegExp(t,"g");return r=>{if(typeof r!="string")throw new TypeError(`expected an argument of type string, but got ${typeof r}`);return r.match(n)?r.replace(n,e):r}}const Ac=Tc(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Ic(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Ac(e)}: ${t[e]};`).join(`
`)}function Rc(t={}){return Ic(t).replace(`
`," ")}const Mc=["onabort","onanimationcancel","onanimationend","onanimationiteration","onanimationstart","onauxclick","onbeforeinput","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncompositionend","oncompositionstart","oncompositionupdate","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onfocusin","onfocusout","onformdata","ongotpointercapture","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onlostpointercapture","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onpointerout","onpointerover","onpointerup","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onselectionchange","onselectstart","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","ontouchcancel","ontouchend","ontouchmove","ontouchstart","ontransitioncancel","ontransitionend","ontransitionrun","ontransitionstart","onvolumechange","onwaiting","onwebkitanimationend","onwebkitanimationiteration","onwebkitanimationstart","onwebkittransitionend","onwheel"],Oc=new Set(Mc);function Nc(t){return Oc.has(t)}function _c(...t){const e={...t[0]};for(let n=1;n<t.length;n++){const r=t[n];if(r){for(const s of Object.keys(r)){const o=e[s],i=r[s],c=typeof o=="function",a=typeof i=="function";if(c&&Nc(s)){const l=o,u=i;e[s]=ns(l,u)}else if(c&&a)e[s]=Te(o,i);else if(s==="class"){const l=fn(o),u=fn(i);l&&u?e[s]=Mt(o,i):l?e[s]=Mt(o):u&&(e[s]=Mt(i))}else if(s==="style"){const l=typeof o=="object",u=typeof i=="object",f=typeof o=="string",h=typeof i=="string";if(l&&u)e[s]={...o,...i};else if(l&&h){const p=Et(i);e[s]={...o,...p}}else if(f&&u){const p=Et(o);e[s]={...p,...i}}else if(f&&h){const p=Et(o),m=Et(i);e[s]={...p,...m}}else l?e[s]=o:u?e[s]=i:f?e[s]=o:h&&(e[s]=i)}else e[s]=i!==void 0?i:o}for(const s of Object.getOwnPropertySymbols(r)){const o=e[s],i=r[s];e[s]=i!==void 0?i:o}}}return typeof e.style=="object"&&(e.style=Rc(e.style).replaceAll(`
`," ")),e.hidden===!1&&(e.hidden=void 0,delete e.hidden),e.disabled===!1&&(e.disabled=void 0,delete e.disabled),e}const Pc=typeof window<"u"?window:void 0;function Fc(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}class Lc{#e;#t;constructor(e={}){const{window:n=Pc,document:r=n?.document}=e;n!==void 0&&(this.#e=r,this.#t=ri(s=>{const o=G(n,"focusin",s),i=G(n,"focusout",s);return()=>{o(),i()}}))}get current(){return this.#t?.(),this.#e?Fc(this.#e):null}}new Lc;function Ru(t){return typeof t=="function"}class Ve{#e;#t;constructor(e){this.#e=e,this.#t=Symbol(e)}get key(){return this.#t}exists(){return ho(this.#t)}get(){const e=Vn(this.#t);if(e===void 0)throw new Error(`Context "${this.#e}" not found`);return e}getOr(e){const n=Vn(this.#t);return n===void 0?e:n}set(e){return po(this.#t,e)}}function Bc(t,e){switch(t){case"post":ve(e);break;case"pre":go(e);break}}function ss(t,e,n,r={}){const{lazy:s=!1}=r;let o=!s,i=Array.isArray(t)?[]:void 0;Bc(e,()=>{const c=Array.isArray(t)?t.map(l=>l()):t();if(!o){o=!0,i=c;return}const a=Ee(()=>n(c,i));return i=c,a})}function re(t,e,n){ss(t,"post",e,n)}function zc(t,e,n){ss(t,"pre",e,n)}re.pre=zc;function pt(t){ve(()=>()=>{t()})}function Dc(t,e){return setTimeout(e,t)}function ce(t){mo().then(t)}const Wc=1,jc=9,Gc=11;function dn(t){return dt(t)&&t.nodeType===Wc&&typeof t.nodeName=="string"}function os(t){return dt(t)&&t.nodeType===jc}function Vc(t){return dt(t)&&t.constructor?.name==="VisualViewport"}function Kc(t){return dt(t)&&t.nodeType!==void 0}function is(t){return Kc(t)&&t.nodeType===Gc&&"host"in t}function Uc(t,e){if(!t||!e||!dn(t)||!dn(e))return!1;const n=e.getRootNode?.();if(t===e||t.contains(e))return!0;if(n&&is(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function gt(t){return os(t)?t:Vc(t)?t.document:t?.ownerDocument??document}function as(t){return is(t)?as(t.host):os(t)?t.defaultView??window:dn(t)?t.ownerDocument?.defaultView??window:window}function Hc(t){let e=t.activeElement;for(;e?.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}class An{element;#e=L(()=>this.element.current?this.element.current.getRootNode()??document:document);get root(){return b(this.#e)}set root(e){k(this.#e,e)}constructor(e){typeof e=="function"?this.element=N(e):this.element=e}getDocument=()=>gt(this.root);getWindow=()=>this.getDocument().defaultView??window;getActiveElement=()=>Hc(this.root);isActiveElement=e=>e===this.getActiveElement();getElementById(e){return this.root.getElementById(e)}querySelector=e=>this.root?this.root.querySelector(e):null;querySelectorAll=e=>this.root?this.root.querySelectorAll(e):[];setTimeout=(e,n)=>this.getWindow().setTimeout(e,n);clearTimeout=e=>this.getWindow().clearTimeout(e)}function mt(t,e){return{[ai()]:n=>ht(t)?(t.current=n,Ee(()=>e?.(n)),()=>{"isConnected"in n&&n.isConnected||(t.current=null,e?.(null))}):(t(n),Ee(()=>e?.(n)),()=>{"isConnected"in n&&n.isConnected||(t(null),e?.(null))})}}function cs(t){return t?"true":"false"}function ls(t){return t?"":void 0}function us(t){return t?"open":"closed"}function Jc(t,e){return t?"true":"false"}class Yc{#e;#t;attrs;constructor(e){this.#e=e.getVariant?e.getVariant():null,this.#t=this.#e?`data-${this.#e}-`:`data-${e.component}-`,this.getAttr=this.getAttr.bind(this),this.selector=this.selector.bind(this),this.attrs=Object.fromEntries(e.parts.map(n=>[n,this.getAttr(n)]))}getAttr(e,n){return n?`data-${n}-${e}`:`${this.#t}${e}`}selector(e,n){return`[${this.getAttr(e,n)}]`}}function Xc(t){const e=new Yc(t);return{...e.attrs,selector:e.selector,getAttr:e.getAttr}}const lt="ArrowDown",In="ArrowLeft",Rn="ArrowRight",Lt="ArrowUp",fs="End",ds="Enter",Qc="Escape",hs="Home",qc="PageDown",Zc="PageUp",Mn=" ",$c="Tab";function el(t){return window.getComputedStyle(t).getPropertyValue("direction")}function tl(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?In:Rn,vertical:lt}[e]}function nl(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Rn:In,vertical:Lt}[e]}function rl(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:tl(t,e),prevKey:nl(t,e)}}const ps=typeof document<"u",hr=sl();function sl(){return ps&&window?.navigator?.userAgent&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||window?.navigator?.maxTouchPoints>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function le(t){return t instanceof HTMLElement}function hn(t){return t instanceof Element}function gs(t){return t instanceof Element||t instanceof SVGElement}function Mu(t){return t!==null}function ol(t){return t instanceof HTMLInputElement&&"select"in t}class il{#e;#t=Me(null);constructor(e){this.#e=e}getCandidateNodes(){return this.#e.rootNode.current?this.#e.candidateSelector?Array.from(this.#e.rootNode.current.querySelectorAll(this.#e.candidateSelector)):this.#e.candidateAttr?Array.from(this.#e.rootNode.current.querySelectorAll(`[${this.#e.candidateAttr}]:not([data-disabled])`)):[]:[]}focusFirstCandidate(){const e=this.getCandidateNodes();e.length&&e[0]?.focus()}handleKeydown(e,n,r=!1){const s=this.#e.rootNode.current;if(!s||!e)return;const o=this.getCandidateNodes();if(!o.length)return;const i=o.indexOf(e),c=el(s),{nextKey:a,prevKey:l}=rl(c,this.#e.orientation.current),u=this.#e.loop.current,f={[a]:i+1,[l]:i-1,[hs]:0,[fs]:o.length-1};if(r){const m=a===lt?Rn:lt,g=l===Lt?In:Lt;f[m]=i+1,f[g]=i-1}let h=f[n.key];if(h===void 0)return;n.preventDefault(),h<0&&u?h=o.length-1:h===o.length&&u&&(h=0);const p=o[h];if(p)return p.focus(),this.#t.current=p.id,this.#e.onCandidateFocus?.(p),p}getTabIndex(e){const n=this.getCandidateNodes(),r=this.#t.current!==null;return e&&!r&&n[0]===e?(this.#t.current=e.id,0):e?.id===this.#t.current?0:-1}setCurrentTabStopId(e){this.#t.current=e}focusCurrentTabStop(){const e=this.#t.current;if(!e)return;const n=this.#e.rootNode.current?.querySelector(`#${e}`);!n||!le(n)||n.focus()}}class al{#e;#t=null;constructor(e){this.#e=e,pt(()=>this.#n())}#n(){this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null)}run(e){this.#n();const n=this.#e.ref.current;if(n){if(typeof n.getAnimations!="function"){this.#r(e);return}this.#t=window.requestAnimationFrame(()=>{const r=n.getAnimations();if(r.length===0){this.#r(e);return}Promise.allSettled(r.map(s=>s.finished)).then(()=>{this.#r(e)})})}}#r(e){const n=()=>{e()};this.#e.afterTick?ce(n):n()}}class cl{#e;#t;#n;#r=B(!1);constructor(e){this.#e=e,k(this.#r,e.open.current,!0),this.#t=e.enabled??!0,this.#n=new al({ref:this.#e.ref,afterTick:this.#e.open}),re(()=>this.#e.open.current,n=>{n&&k(this.#r,!0),this.#t&&this.#n.run(()=>{n===this.#e.open.current&&(this.#e.open.current||k(this.#r,!1),this.#e.onComplete?.())})})}get shouldRender(){return b(this.#r)}}function Q(){}function Ou(t,e){return`bits-${t}`}function ll(t,e){var n=ne(),r=te(n);ci(r,()=>e.children,s=>{var o=ne(),i=te(o);Re(i,()=>e.children??Ie),j(s,o)}),j(t,n)}const ul=new Ve("BitsConfig");function fl(){const t=new dl(null,{});return ul.getOr(t).opts}class dl{opts;constructor(e,n){const r=hl(e,n);this.opts={defaultPortalTo:r(s=>s.defaultPortalTo),defaultLocale:r(s=>s.defaultLocale)}}}function hl(t,e){return n=>N(()=>{const s=n(e)?.current;if(s!==void 0)return s;if(t!==null)return n(t.opts)?.current})}function pl(t,e){return n=>{const r=fl();return N(()=>{const s=n();if(s!==void 0)return s;const o=t(r).current;return o!==void 0?o:e})}}const gl=pl(t=>t.defaultPortalTo,"body");function Nu(t,e){ue(e,!0);const n=gl(()=>e.to),r=bo();let s=L(o);function o(){if(!ps||e.disabled)return null;let f=null;return typeof n.current=="string"?f=document.querySelector(n.current):f=n.current,f}let i;function c(){i&&(oi(i),i=null)}re([()=>b(s),()=>e.disabled],([f,h])=>{if(!f||h){c();return}return i=si(ll,{target:f,props:{children:e.children},context:r}),()=>{c()}});var a=ne(),l=te(a);{var u=f=>{var h=ne(),p=te(h);Re(p,()=>e.children??Ie),j(f,h)};Ot(l,f=>{e.disabled&&f(u)})}j(t,a),fe()}class ml{eventName;options;constructor(e,n={bubbles:!0,cancelable:!0}){this.eventName=e,this.options=n}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,n){const r=this.createEvent(n);return e.dispatchEvent(r),r}listen(e,n,r){const s=o=>{n(o)};return G(e,this.eventName,s,r)}}function pr(t,e=500){let n=null;const r=(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)};return r.destroy=()=>{n!==null&&(clearTimeout(n),n=null)},r}function ms(t,e){return t===e||t.contains(e)}function bs(t){return t?.ownerDocument??document}function bl(t,e){const{clientX:n,clientY:r}=t,s=e.getBoundingClientRect();return n<s.left||n>s.right||r<s.top||r>s.bottom}const yl=[ds,Mn],vl=[lt,Zc,hs],ys=[Lt,qc,fs],wl=[...vl,...ys];function Sl(t){return t==="indeterminate"}function Cl(t){return Sl(t)?"indeterminate":t?"checked":"unchecked"}function gr(t){return t.pointerType==="mouse"}function xl(t,{select:e=!1}={}){if(!t||!t.focus)return;const n=gt(t);if(n.activeElement===t)return;const r=n.activeElement;t.focus({preventScroll:!0}),t!==r&&ol(t)&&e&&t.select()}function kl(t,{select:e=!1}={},n){const r=n();for(const s of t)if(xl(s,{select:e}),n()!==r)return!0}var vs=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Bt=vs.join(","),ws=typeof Element>"u",Ae=ws?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,zt=!ws&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},ut=function(e,n){var r;n===void 0&&(n=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=s===""||s==="true",i=o||n&&e&&ut(e.parentNode);return i},El=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},Ss=function(e,n,r){if(ut(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(Bt));return n&&Ae.call(e,Bt)&&s.unshift(e),s=s.filter(r),s},Dt=function(e,n,r){for(var s=[],o=Array.from(e);o.length;){var i=o.shift();if(!ut(i,!1))if(i.tagName==="SLOT"){var c=i.assignedElements(),a=c.length?c:i.children,l=Dt(a,!0,r);r.flatten?s.push.apply(s,l):s.push({scopeParent:i,candidates:l})}else{var u=Ae.call(i,Bt);u&&r.filter(i)&&(n||!e.includes(i))&&s.push(i);var f=i.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(i),h=!ut(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(i));if(f&&h){var p=Dt(f===!0?i.children:f.children,!0,r);r.flatten?s.push.apply(s,p):s.push({scopeParent:i,candidates:p})}else o.unshift.apply(o,i.children)}}return s},Cs=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},xs=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||El(e))&&!Cs(e)?0:e.tabIndex},Tl=function(e,n){var r=xs(e);return r<0&&n&&!Cs(e)?0:r},Al=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},ks=function(e){return e.tagName==="INPUT"},Il=function(e){return ks(e)&&e.type==="hidden"},Rl=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Ml=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Ol=function(e){if(!e.name)return!0;var n=e.form||zt(e),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(i){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",i.message),!1}var o=Ml(s,e.form);return!o||o===e},Nl=function(e){return ks(e)&&e.type==="radio"},_l=function(e){return Nl(e)&&!Ol(e)},Pl=function(e){var n,r=e&&zt(e),s=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var i,c,a;for(o=!!((i=s)!==null&&i!==void 0&&(c=i.ownerDocument)!==null&&c!==void 0&&c.contains(s)||e!=null&&(a=e.ownerDocument)!==null&&a!==void 0&&a.contains(e));!o&&s;){var l,u,f;r=zt(s),s=(l=r)===null||l===void 0?void 0:l.host,o=!!((u=s)!==null&&u!==void 0&&(f=u.ownerDocument)!==null&&f!==void 0&&f.contains(s))}}return o},mr=function(e){var n=e.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},Fl=function(e,n){var r=n.displayCheck,s=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var o=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!o}if(getComputedStyle(e).visibility==="hidden")return!0;var i=Ae.call(e,"details>summary:first-of-type"),c=i?e.parentElement:e;if(Ae.call(c,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof s=="function"){for(var a=e;e;){var l=e.parentElement,u=zt(e);if(l&&!l.shadowRoot&&s(l)===!0)return mr(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(Pl(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return mr(e);return!1},Ll=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Ae.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},Wt=function(e,n){return!(n.disabled||ut(n)||Il(n)||Fl(n,e)||Rl(n)||Ll(n))},pn=function(e,n){return!(_l(n)||xs(n)<0||!Wt(e,n))},Bl=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Es=function(e){var n=[],r=[];return e.forEach(function(s,o){var i=!!s.scopeParent,c=i?s.scopeParent:s,a=Tl(c,i),l=i?Es(s.candidates):c;a===0?i?n.push.apply(n,l):n.push(c):r.push({documentOrder:o,tabIndex:a,item:s,isScope:i,content:l})}),r.sort(Al).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(n)},Ts=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Dt([e],n.includeContainer,{filter:pn.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Bl}):r=Ss(e,n.includeContainer,pn.bind(null,n)),Es(r)},As=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Dt([e],n.includeContainer,{filter:Wt.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=Ss(e,n.includeContainer,Wt.bind(null,n)),r},On=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ae.call(e,Bt)===!1?!1:pn(n,e)},zl=vs.concat("iframe").join(","),Is=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ae.call(e,zl)===!1?!1:Wt(n,e)};function it(){return{getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"}}function Dl(t,e){if(!On(t,it()))return Wl(t,e);const n=gt(t),r=Ts(n.body,it());e==="prev"&&r.reverse();const s=r.indexOf(t);return s===-1?n.body:r.slice(s+1)[0]}function Wl(t,e){const n=gt(t);if(!Is(t,it()))return n.body;const r=As(n.body,it());e==="prev"&&r.reverse();const s=r.indexOf(t);return s===-1?n.body:r.slice(s+1).find(i=>On(i,it()))??n.body}function Rs(t,e,n){const r=e.toLowerCase();if(r.endsWith(" ")){const f=r.slice(0,-1);if(t.filter(g=>g.toLowerCase().startsWith(f)).length<=1)return Rs(t,f,n);const p=n?.toLowerCase();if(p&&p.startsWith(f)&&p.charAt(f.length)===" "&&e.trim()===f)return n;const m=t.filter(g=>g.toLowerCase().startsWith(r));if(m.length>0){const g=n?t.indexOf(n):-1;return br(m,Math.max(g,0)).find(A=>A!==n)||n}}const o=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,i=o.toLowerCase(),c=n?t.indexOf(n):-1;let a=br(t,Math.max(c,0));o.length===1&&(a=a.filter(f=>f!==n));const u=a.find(f=>f?.toLowerCase().startsWith(i));return u!==n?u:void 0}function br(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const jl={afterMs:1e4,onChange:Q};function Ms(t,e){const{afterMs:n,onChange:r,getWindow:s}={...jl,...e};let o=null,i=B(at(t));function c(){return s().setTimeout(()=>{k(i,t,!0),r?.(t)},n)}return ve(()=>()=>{o&&s().clearTimeout(o)}),N(()=>b(i),a=>{k(i,a,!0),r?.(a),o&&s().clearTimeout(o),o=c()})}class Gl{#e;#t;#n=L(()=>this.#e.onMatch?this.#e.onMatch:e=>e.focus());#r=L(()=>this.#e.getCurrentItem?this.#e.getCurrentItem:this.#e.getActiveElement);constructor(e){this.#e=e,this.#t=Ms("",{afterMs:1e3,getWindow:e.getWindow}),this.handleTypeaheadSearch=this.handleTypeaheadSearch.bind(this),this.resetTypeahead=this.resetTypeahead.bind(this)}handleTypeaheadSearch(e,n){if(!n.length)return;this.#t.current=this.#t.current+e;const r=b(this.#r)(),s=n.find(a=>a===r)?.textContent?.trim()??"",o=n.map(a=>a.textContent?.trim()??""),i=Rs(o,this.#t.current,s),c=n.find(a=>a.textContent?.trim()===i);return c&&b(this.#n)(c),c}resetTypeahead(){this.#t.current=""}get search(){return this.#t.current}}class Vl{#e;#t;#n;#r=B(null);constructor(e){this.#e=e,this.#t=L(()=>this.#e.enabled()),this.#n=Ms(!1,{afterMs:e.transitTimeout??300,onChange:n=>{b(this.#t)&&this.#e.setIsPointerInTransit?.(n)},getWindow:()=>as(this.#e.triggerNode())}),re([e.triggerNode,e.contentNode,e.enabled],([n,r,s])=>{if(!n||!r||!s)return;const o=c=>{this.#o(c,r)},i=c=>{this.#o(c,n)};return Te(G(n,"pointerleave",o),G(r,"pointerleave",i))}),re(()=>b(this.#r),()=>{const n=s=>{if(!b(this.#r))return;const o=s.target;if(!hn(o))return;const i={x:s.clientX,y:s.clientY},c=e.triggerNode()?.contains(o)||e.contentNode()?.contains(o),a=!Jl(i,b(this.#r));c?this.#s():a&&(this.#s(),e.onPointerExit())},r=gt(e.triggerNode()??e.contentNode());if(r)return G(r,"pointermove",n)})}#s(){k(this.#r,null),this.#n.current=!1}#o(e,n){const r=e.currentTarget;if(!le(r))return;const s={x:e.clientX,y:e.clientY},o=Kl(s,r.getBoundingClientRect()),i=Ul(s,o),c=Hl(n.getBoundingClientRect()),a=Yl([...i,...c]);k(this.#r,a,!0),this.#n.current=!0}}function Kl(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ul(t,e,n=5){const r=n*1.5;switch(e){case"top":return[{x:t.x-n,y:t.y+n},{x:t.x,y:t.y-r},{x:t.x+n,y:t.y+n}];case"bottom":return[{x:t.x-n,y:t.y-n},{x:t.x,y:t.y+r},{x:t.x+n,y:t.y-n}];case"left":return[{x:t.x+n,y:t.y-n},{x:t.x-r,y:t.y},{x:t.x+n,y:t.y+n}];case"right":return[{x:t.x-n,y:t.y-n},{x:t.x+r,y:t.y},{x:t.x-n,y:t.y+n}]}}function Hl(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function Jl(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const c=e[o].x,a=e[o].y,l=e[i].x,u=e[i].y;a>r!=u>r&&n<(l-c)*(r-a)/(u-a)+c&&(s=!s)}return s}function Yl(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Xl(e)}function Xl(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const Ql="data-context-menu-trigger",ql="data-context-menu-content",Zl=new Ve("Menu.Root"),Nn=new Ve("Menu.Root | Menu.Sub"),_n=new Ve("Menu.Content"),$l=new Ve("Menu.Group | Menu.RadioGroup"),Os=new Ve("Menu.RadioGroup"),eu=new ml("bitsmenuopen",{bubbles:!1,cancelable:!0}),tu=Xc({component:"menu",parts:["trigger","content","sub-trigger","item","group","group-heading","checkbox-group","checkbox-item","radio-group","radio-item","separator","sub-content","arrow"]});class Ns{static create(e){const n=new Ns(e);return Zl.set(n)}opts;isUsingKeyboard=new be;#e=B(!1);get ignoreCloseAutoFocus(){return b(this.#e)}set ignoreCloseAutoFocus(e){k(this.#e,e,!0)}#t=B(!1);get isPointerInTransit(){return b(this.#t)}set isPointerInTransit(e){k(this.#t,e,!0)}constructor(e){this.opts=e}getBitsAttr=e=>tu.getAttr(e,this.opts.variant.current)}class _s{static create(e,n){return Nn.set(new _s(e,n,null))}opts;root;parentMenu;contentId=N(()=>"");#e=B(null);get contentNode(){return b(this.#e)}set contentNode(e){k(this.#e,e,!0)}contentPresence;#t=B(null);get triggerNode(){return b(this.#t)}set triggerNode(e){k(this.#t,e,!0)}constructor(e,n,r){this.opts=e,this.root=n,this.parentMenu=r,this.contentPresence=new cl({ref:N(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),r&&re(()=>r.opts.open.current,()=>{r.opts.open.current||(this.opts.open.current=!1)})}toggleOpen(){this.opts.open.current=!this.opts.open.current}onOpen(){this.opts.open.current=!0}onClose(){this.opts.open.current=!1}}class Ps{static create(e){return _n.set(new Ps(e,Nn.get()))}opts;parentMenu;rovingFocusGroup;domContext;attachment;#e=B("");get search(){return b(this.#e)}set search(e){k(this.#e,e,!0)}#t=0;#n;#r=B(!1);get mounted(){return b(this.#r)}set mounted(e){k(this.#r,e,!0)}#s;constructor(e,n){this.opts=e,this.parentMenu=n,this.domContext=new An(e.ref),this.attachment=mt(this.opts.ref,r=>{this.parentMenu.contentNode!==r&&(this.parentMenu.contentNode=r)}),n.contentId=e.id,this.#s=e.isSub??!1,this.onkeydown=this.onkeydown.bind(this),this.onblur=this.onblur.bind(this),this.onfocus=this.onfocus.bind(this),this.handleInteractOutside=this.handleInteractOutside.bind(this),new Vl({contentNode:()=>this.parentMenu.contentNode,triggerNode:()=>this.parentMenu.triggerNode,enabled:()=>this.parentMenu.opts.open.current&&!!this.parentMenu.triggerNode?.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger")),onPointerExit:()=>{this.parentMenu.opts.open.current=!1},setIsPointerInTransit:r=>{this.parentMenu.root.isPointerInTransit=r}}),this.#n=new Gl({getActiveElement:()=>this.domContext.getActiveElement(),getWindow:()=>this.domContext.getWindow()}).handleTypeaheadSearch,this.rovingFocusGroup=new il({rootNode:N(()=>this.parentMenu.contentNode),candidateAttr:this.parentMenu.root.getBitsAttr("item"),loop:this.opts.loop,orientation:N(()=>"vertical")}),re(()=>this.parentMenu.contentNode,r=>{if(!r)return;const s=()=>{ce(()=>{this.parentMenu.root.isUsingKeyboard.current&&this.rovingFocusGroup.focusFirstCandidate()})};return eu.listen(r,s)}),ve(()=>{this.parentMenu.opts.open.current||this.domContext.getWindow().clearTimeout(this.#t)})}#o(){const e=this.parentMenu.contentNode;return e?Array.from(e.querySelectorAll(`[${this.parentMenu.root.getBitsAttr("item")}]:not([data-disabled])`)):[]}#a(){return this.parentMenu.root.isPointerInTransit}onCloseAutoFocus=e=>{this.opts.onCloseAutoFocus.current?.(e),!(e.defaultPrevented||this.#s)&&this.parentMenu.triggerNode&&On(this.parentMenu.triggerNode)&&(e.preventDefault(),this.parentMenu.triggerNode.focus())};handleTabKeyDown(e){let n=this.parentMenu;for(;n.parentMenu!==null;)n=n.parentMenu;if(!n.triggerNode)return;e.preventDefault();const r=Dl(n.triggerNode,e.shiftKey?"prev":"next");r?(this.parentMenu.root.ignoreCloseAutoFocus=!0,n.onClose(),ce(()=>{r.focus(),ce(()=>{this.parentMenu.root.ignoreCloseAutoFocus=!1})})):this.domContext.getDocument().body.focus()}onkeydown(e){if(e.defaultPrevented)return;if(e.key===$c){this.handleTabKeyDown(e);return}const n=e.target,r=e.currentTarget;if(!le(n)||!le(r))return;const s=n.closest(`[${this.parentMenu.root.getBitsAttr("content")}]`)?.id===this.parentMenu.contentId.current,o=e.ctrlKey||e.altKey||e.metaKey,i=e.key.length===1;if(this.rovingFocusGroup.handleKeydown(n,e)||e.code==="Space")return;const a=this.#o();s&&!o&&i&&this.#n(e.key,a),e.target?.id===this.parentMenu.contentId.current&&wl.includes(e.key)&&(e.preventDefault(),ys.includes(e.key)&&a.reverse(),kl(a,{select:!1},()=>this.domContext.getActiveElement()))}onblur(e){hn(e.currentTarget)&&hn(e.target)&&(e.currentTarget.contains?.(e.target)||(this.domContext.getWindow().clearTimeout(this.#t),this.search=""))}onfocus(e){this.parentMenu.root.isUsingKeyboard.current&&ce(()=>this.rovingFocusGroup.focusFirstCandidate())}onItemEnter(){return this.#a()}onItemLeave(e){if(e.currentTarget.hasAttribute(this.parentMenu.root.getBitsAttr("sub-trigger"))||this.#a()||this.parentMenu.root.isUsingKeyboard.current)return;this.parentMenu.contentNode?.focus(),this.rovingFocusGroup.setCurrentTabStopId("")}onTriggerLeave(){return!!this.#a()}handleInteractOutside(e){if(!gs(e.target))return;const n=this.parentMenu.triggerNode?.id;if(e.target.id===n){e.preventDefault();return}e.target.closest(`#${n}`)&&e.preventDefault()}get shouldRender(){return this.parentMenu.contentPresence.shouldRender}#i=L(()=>({open:this.parentMenu.opts.open.current}));get snippetProps(){return b(this.#i)}set snippetProps(e){k(this.#i,e)}#c=L(()=>({id:this.opts.id.current,role:"menu","aria-orientation":"vertical",[this.parentMenu.root.getBitsAttr("content")]:"","data-state":us(this.parentMenu.opts.open.current),onkeydown:this.onkeydown,onblur:this.onblur,onfocus:this.onfocus,dir:this.parentMenu.root.opts.dir.current,style:{pointerEvents:"auto"},...this.attachment}));get props(){return b(this.#c)}set props(e){k(this.#c,e)}popperProps={onCloseAutoFocus:e=>this.onCloseAutoFocus(e)}}class Fs{opts;content;attachment;#e=B(!1);constructor(e,n){this.opts=e,this.content=n,this.attachment=mt(this.opts.ref),this.onpointermove=this.onpointermove.bind(this),this.onpointerleave=this.onpointerleave.bind(this),this.onfocus=this.onfocus.bind(this),this.onblur=this.onblur.bind(this)}onpointermove(e){if(!e.defaultPrevented&&gr(e))if(this.opts.disabled.current)this.content.onItemLeave(e);else{if(this.content.onItemEnter())return;const r=e.currentTarget;if(!le(r))return;r.focus()}}onpointerleave(e){e.defaultPrevented||gr(e)&&this.content.onItemLeave(e)}onfocus(e){ce(()=>{e.defaultPrevented||this.opts.disabled.current||k(this.#e,!0)})}onblur(e){ce(()=>{e.defaultPrevented||k(this.#e,!1)})}#t=L(()=>({id:this.opts.id.current,tabindex:-1,role:"menuitem","aria-disabled":cs(this.opts.disabled.current),"data-disabled":ls(this.opts.disabled.current),"data-highlighted":b(this.#e)?"":void 0,[this.content.parentMenu.root.getBitsAttr("item")]:"",onpointermove:this.onpointermove,onpointerleave:this.onpointerleave,onfocus:this.onfocus,onblur:this.onblur,...this.attachment}));get props(){return b(this.#t)}set props(e){k(this.#t,e)}}class Pn{static create(e){const n=new Fs(e,_n.get());return new Pn(e,n)}opts;item;root;#e=!1;constructor(e,n){this.opts=e,this.item=n,this.root=n.content.parentMenu.root,this.onkeydown=this.onkeydown.bind(this),this.onclick=this.onclick.bind(this),this.onpointerdown=this.onpointerdown.bind(this),this.onpointerup=this.onpointerup.bind(this)}#t(){if(this.item.opts.disabled.current)return;const e=new CustomEvent("menuitemselect",{bubbles:!0,cancelable:!0});if(this.opts.onSelect.current(e),e.defaultPrevented){this.item.content.parentMenu.root.isUsingKeyboard.current=!1;return}this.opts.closeOnSelect.current&&this.item.content.parentMenu.root.opts.onClose()}onkeydown(e){const n=this.item.content.search!=="";if(!(this.item.opts.disabled.current||n&&e.key===Mn)&&yl.includes(e.key)){if(!le(e.currentTarget))return;e.currentTarget.click(),e.preventDefault()}}onclick(e){this.item.opts.disabled.current||this.#t()}onpointerup(e){if(!e.defaultPrevented&&!this.#e){if(!le(e.currentTarget))return;e.currentTarget?.click()}}onpointerdown(e){this.#e=!0}#n=L(()=>_c(this.item.props,{onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown}));get props(){return b(this.#n)}set props(e){k(this.#n,e)}}class Ls{static create(e){return $l.set(Os.set(new Ls(e,_n.get())))}opts;content;attachment;#e=B(null);get groupHeadingId(){return b(this.#e)}set groupHeadingId(e){k(this.#e,e,!0)}root;constructor(e,n){this.opts=e,this.content=n,this.root=n.parentMenu.root,this.attachment=mt(this.opts.ref)}setValue(e){this.opts.value.current=e}#t=L(()=>({id:this.opts.id.current,[this.root.getBitsAttr("radio-group")]:"",role:"group","aria-labelledby":this.groupHeadingId,...this.attachment}));get props(){return b(this.#t)}set props(e){k(this.#t,e)}}class Bs{static create(e){const n=Os.get(),r=new Fs(e,n.content),s=new Pn(e,r);return new Bs(e,s,n)}opts;item;group;attachment;#e=L(()=>this.group.opts.value.current===this.opts.value.current);get isChecked(){return b(this.#e)}set isChecked(e){k(this.#e,e)}constructor(e,n,r){this.opts=e,this.item=n,this.group=r,this.attachment=mt(this.opts.ref)}selectValue(){this.group.setValue(this.opts.value.current)}#t=L(()=>({[this.group.root.getBitsAttr("radio-item")]:"",...this.item.props,role:"menuitemradio","aria-checked":Jc(this.isChecked),"data-state":Cl(this.isChecked),...this.attachment}));get props(){return b(this.#t)}set props(e){k(this.#t,e)}}class zs{static create(e){return new zs(e,Nn.get())}opts;parentMenu;attachment;constructor(e,n){this.opts=e,this.parentMenu=n,this.attachment=mt(this.opts.ref,r=>this.parentMenu.triggerNode=r)}onclick=e=>{this.opts.disabled.current||e.detail!==0||(this.parentMenu.toggleOpen(),e.preventDefault())};onpointerdown=e=>{if(!this.opts.disabled.current){if(e.pointerType==="touch")return e.preventDefault();e.button===0&&e.ctrlKey===!1&&(this.parentMenu.toggleOpen(),this.parentMenu.opts.open.current||e.preventDefault())}};onpointerup=e=>{this.opts.disabled.current||e.pointerType==="touch"&&(e.preventDefault(),this.parentMenu.toggleOpen())};onkeydown=e=>{if(!this.opts.disabled.current){if(e.key===Mn||e.key===ds){this.parentMenu.toggleOpen(),e.preventDefault();return}e.key===lt&&(this.parentMenu.onOpen(),e.preventDefault())}};#e=L(()=>{if(this.parentMenu.opts.open.current&&this.parentMenu.contentId.current)return this.parentMenu.contentId.current});#t=L(()=>({id:this.opts.id.current,disabled:this.opts.disabled.current,"aria-haspopup":"menu","aria-expanded":cs(this.parentMenu.opts.open.current),"aria-controls":b(this.#e),"data-disabled":ls(this.opts.disabled.current),"data-state":us(this.parentMenu.opts.open.current),[this.parentMenu.root.getBitsAttr("trigger")]:"",onclick:this.onclick,onpointerdown:this.onpointerdown,onpointerup:this.onpointerup,onkeydown:this.onkeydown,...this.attachment}));get props(){return b(this.#t)}set props(e){k(this.#t,e)}}globalThis.bitsDismissableLayers??=new Map;class Fn{static create(e){return new Fn(e)}opts;#e;#t;#n={pointerdown:!1};#r=!1;#s=!1;#o=void 0;#a;#i=Q;constructor(e){this.opts=e,this.#t=e.interactOutsideBehavior,this.#e=e.onInteractOutside,this.#a=e.onFocusOutside,ve(()=>{this.#o=bs(this.opts.ref.current)});let n=Q;const r=()=>{this.#d(),globalThis.bitsDismissableLayers.delete(this),this.#l.destroy(),n()};re([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return Dc(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,this.#t),n(),n=this.#f())}),r}),pt(()=>{this.#d.destroy(),globalThis.bitsDismissableLayers.delete(this),this.#l.destroy(),this.#i(),n()})}#c=e=>{e.defaultPrevented||this.opts.ref.current&&ce(()=>{!this.opts.ref.current||this.#m(e.target)||e.target&&!this.#s&&this.#a.current?.(e)})};#f(){return Te(G(this.#o,"pointerdown",Te(this.#h,this.#g),{capture:!0}),G(this.#o,"pointerdown",Te(this.#p,this.#l)),G(this.#o,"focusin",this.#c))}#u=e=>{let n=e;n.defaultPrevented&&(n=yr(e)),this.#e.current(e)};#l=pr(e=>{if(!this.opts.ref.current){this.#i();return}const n=this.opts.isValidEvent.current(e,this.opts.ref.current)||su(e,this.opts.ref.current);if(!this.#r||this.#b()||!n){this.#i();return}let r=e;if(r.defaultPrevented&&(r=yr(r)),this.#t.current!=="close"&&this.#t.current!=="defer-otherwise-close"){this.#i();return}e.pointerType==="touch"?(this.#i(),this.#i=G(this.#o,"click",this.#u,{once:!0})):this.#e.current(r)},10);#h=e=>{this.#n[e.type]=!0};#p=e=>{this.#n[e.type]=!1};#g=()=>{this.opts.ref.current&&(this.#r=ru(this.opts.ref.current))};#m=e=>this.opts.ref.current?ms(this.opts.ref.current,e):!1;#d=pr(()=>{for(const e in this.#n)this.#n[e]=!1;this.#r=!1},20);#b(){return Object.values(this.#n).some(Boolean)}#y=()=>{this.#s=!0};#v=()=>{this.#s=!1};props={onfocuscapture:this.#y,onblurcapture:this.#v}}function nu(t=[...globalThis.bitsDismissableLayers]){return t.findLast(([e,{current:n}])=>n==="close"||n==="ignore")}function ru(t){const e=[...globalThis.bitsDismissableLayers],n=nu(e);if(n)return n[0].opts.ref.current===t;const[r]=e[0];return r.opts.ref.current===t}function su(t,e){const n=t.target;if(!gs(n))return!1;const r=!!n.closest(`[${Ql}]`);if("button"in t&&t.button>0&&!r)return!1;if("button"in t&&t.button===0&&r)return!0;const s=!!e.closest(`[${ql}]`);return r&&s?!1:bs(n).documentElement.contains(n)&&!ms(e,n)&&bl(t,e)}function yr(t){const e=t.currentTarget,n=t.target;let r;t instanceof PointerEvent?r=new PointerEvent(t.type,t):r=new PointerEvent("pointerdown",t);let s=!1;return new Proxy(r,{get:(i,c)=>c==="currentTarget"?e:c==="target"?n:c==="preventDefault"?()=>{s=!0,typeof i.preventDefault=="function"&&i.preventDefault()}:c==="defaultPrevented"?s:c in i?i[c]:t[c]})}function _u(t,e){ue(e,!0);let n=F(e,"interactOutsideBehavior",3,"close"),r=F(e,"onInteractOutside",3,Q),s=F(e,"onFocusOutside",3,Q),o=F(e,"isValidEvent",3,()=>!1);const i=Fn.create({id:N(()=>e.id),interactOutsideBehavior:N(()=>n()),onInteractOutside:N(()=>r()),enabled:N(()=>e.enabled),onFocusOutside:N(()=>s()),isValidEvent:N(()=>o()),ref:e.ref});var c=ne(),a=te(c);Re(a,()=>e.children??Ie,()=>({props:i.props})),j(t,c),fe()}globalThis.bitsEscapeLayers??=new Map;class Ln{static create(e){return new Ln(e)}opts;domContext;constructor(e){this.opts=e,this.domContext=new An(this.opts.ref);let n=Q;re(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),n=this.#e()),()=>{n(),globalThis.bitsEscapeLayers.delete(this)}))}#e=()=>G(this.domContext.getDocument(),"keydown",this.#t,{passive:!1});#t=e=>{if(e.key!==Qc||!ou(this))return;const n=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(n)}}function ou(t){const e=[...globalThis.bitsEscapeLayers],n=e.findLast(([s,{current:o}])=>o==="close"||o==="ignore");if(n)return n[0]===t;const[r]=e[0];return r===t}function Pu(t,e){ue(e,!0);let n=F(e,"escapeKeydownBehavior",3,"close"),r=F(e,"onEscapeKeydown",3,Q);Ln.create({escapeKeydownBehavior:N(()=>n()),onEscapeKeydown:N(()=>r()),enabled:N(()=>e.enabled),ref:e.ref});var s=ne(),o=te(s);Re(o,()=>e.children??Ie),j(t,s),fe()}class Bn{static instance;#e=ts([]);#t=new WeakMap;#n=new WeakMap;static getInstance(){return this.instance||(this.instance=new Bn),this.instance}register(e){const n=this.getActive();n&&n!==e&&n.pause();const r=document.activeElement;r&&r!==document.body&&this.#n.set(e,r),this.#e.current=this.#e.current.filter(s=>s!==e),this.#e.current.unshift(e)}unregister(e){this.#e.current=this.#e.current.filter(r=>r!==e);const n=this.getActive();n&&n.resume()}getActive(){return this.#e.current[0]}setFocusMemory(e,n){this.#t.set(e,n)}getFocusMemory(e){return this.#t.get(e)}isActiveScope(e){return this.getActive()===e}setPreFocusMemory(e,n){this.#n.set(e,n)}getPreFocusMemory(e){return this.#n.get(e)}clearPreFocusMemory(e){this.#n.delete(e)}}class zn{#e=!1;#t=null;#n=Bn.getInstance();#r=[];#s;constructor(e){this.#s=e}get paused(){return this.#e}pause(){this.#e=!0}resume(){this.#e=!1}#o(){for(const e of this.#r)e();this.#r=[]}mount(e){this.#t&&this.unmount(),this.#t=e,this.#n.register(this),this.#c(),this.#a()}unmount(){this.#t&&(this.#o(),this.#i(),this.#n.unregister(this),this.#n.clearPreFocusMemory(this),this.#t=null)}#a(){if(!this.#t)return;const e=new CustomEvent("focusScope.onOpenAutoFocus",{bubbles:!1,cancelable:!0});this.#s.onOpenAutoFocus.current(e),e.defaultPrevented||requestAnimationFrame(()=>{if(!this.#t)return;const n=this.#u();n?(n.focus(),this.#n.setFocusMemory(this,n)):this.#t.focus()})}#i(){const e=new CustomEvent("focusScope.onCloseAutoFocus",{bubbles:!1,cancelable:!0});if(this.#s.onCloseAutoFocus.current?.(e),!e.defaultPrevented){const n=this.#n.getPreFocusMemory(this);if(n&&document.contains(n))try{n.focus()}catch{document.body.focus()}}}#c(){if(!this.#t||!this.#s.trap.current)return;const e=this.#t,n=e.ownerDocument,r=i=>{if(this.#e||!this.#n.isActiveScope(this))return;const c=i.target;if(!c)return;if(e.contains(c))this.#n.setFocusMemory(this,c);else{const l=this.#n.getFocusMemory(this);if(l&&e.contains(l)&&Is(l))i.preventDefault(),l.focus();else{const u=this.#u(),f=this.#l()[0];(u||f||e).focus()}}},s=i=>{if(!this.#s.loop||this.#e||i.key!=="Tab"||!this.#n.isActiveScope(this))return;const c=this.#f();if(c.length<2)return;const a=c[0],l=c[c.length-1];!i.shiftKey&&n.activeElement===l?(i.preventDefault(),a.focus()):i.shiftKey&&n.activeElement===a&&(i.preventDefault(),l.focus())};this.#r.push(G(n,"focusin",r,{capture:!0}),G(e,"keydown",s));const o=new MutationObserver(()=>{const i=this.#n.getFocusMemory(this);if(i&&!e.contains(i)){const c=this.#u(),a=this.#l()[0],l=c||a;l?(l.focus(),this.#n.setFocusMemory(this,l)):e.focus()}});o.observe(e,{childList:!0,subtree:!0}),this.#r.push(()=>o.disconnect())}#f(){return this.#t?Ts(this.#t,{includeContainer:!1,getShadowRoot:!0}):[]}#u(){return this.#f()[0]||null}#l(){return this.#t?As(this.#t,{includeContainer:!1,getShadowRoot:!0}):[]}static use(e){let n=null;return re([()=>e.ref.current,()=>e.enabled.current],([r,s])=>{r&&s?(n||(n=new zn(e)),n.mount(r)):n&&(n.unmount(),n=null)}),pt(()=>{n?.unmount()}),{get props(){return{tabindex:-1}}}}}function Fu(t,e){ue(e,!0);let n=F(e,"enabled",3,!1),r=F(e,"trapFocus",3,!1),s=F(e,"loop",3,!1),o=F(e,"onCloseAutoFocus",3,Q),i=F(e,"onOpenAutoFocus",3,Q);const c=zn.use({enabled:N(()=>n()),trap:N(()=>r()),loop:s(),onCloseAutoFocus:N(()=>o()),onOpenAutoFocus:N(()=>i()),ref:e.ref});var a=ne(),l=te(a);Re(l,()=>e.focusScope??Ie,()=>({props:c.props})),j(t,a),fe()}globalThis.bitsTextSelectionLayers??=new Map;class Dn{static create(e){return new Dn(e)}opts;domContext;#e=Q;constructor(e){this.opts=e,this.domContext=new An(e.ref);let n=Q;re(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),n(),n=this.#t()),()=>{n(),this.#r(),globalThis.bitsTextSelectionLayers.delete(this)}))}#t(){return Te(G(this.domContext.getDocument(),"pointerdown",this.#n),G(this.domContext.getDocument(),"pointerup",ns(this.#r,this.opts.onPointerUp.current)))}#n=e=>{const n=this.opts.ref.current,r=e.target;!le(n)||!le(r)||!this.opts.enabled.current||!au(this)||!Uc(n,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&(this.#e=iu(n,this.domContext.getDocument().body)))};#r=()=>{this.#e(),this.#e=Q}}const vr=t=>t.style.userSelect||t.style.webkitUserSelect;function iu(t,e){const n=vr(e),r=vr(t);return Tt(e,"none"),Tt(t,"text"),()=>{Tt(e,n),Tt(t,r)}}function Tt(t,e){t.style.userSelect=e,t.style.webkitUserSelect=e}function au(t){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const n=e.at(-1);return n?n[0]===t:!1}function Lu(t,e){ue(e,!0);let n=F(e,"preventOverflowTextSelection",3,!0),r=F(e,"onPointerDown",3,Q),s=F(e,"onPointerUp",3,Q);Dn.create({id:N(()=>e.id),onPointerDown:N(()=>r()),onPointerUp:N(()=>s()),enabled:N(()=>e.enabled&&n()),ref:e.ref});var o=ne(),i=te(o);Re(i,()=>e.children??Ie),j(t,o),fe()}globalThis.bitsIdCounter??={current:0};function cu(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}class lu{#e;#t=0;#n=B();#r;constructor(e){this.#e=e}#s(){this.#t-=1,this.#r&&this.#t<=0&&(this.#r(),k(this.#n,void 0),this.#r=void 0)}get(...e){return this.#t+=1,b(this.#n)===void 0&&(this.#r=Er(()=>{k(this.#n,this.#e(...e),!0)})),ve(()=>()=>{this.#s()}),b(this.#n)}}const Nt=new jr;let At=B(null),Yt=null,Qe=null,qe=!1;const wr=N(()=>{for(const t of Nt.values())if(t)return!0;return!1});let Xt=null;const uu=new lu(()=>{function t(){document.body.setAttribute("style",b(At)??""),document.body.style.removeProperty("--scrollbar-width"),hr&&Yt?.(),k(At,null)}function e(){Qe!==null&&(window.clearTimeout(Qe),Qe=null)}function n(s,o){e(),qe=!0,Xt=Date.now();const i=Xt,c=()=>{Qe=null,Xt===i&&(Ds(Nt)?qe=!1:(qe=!1,o()))},a=s===null?24:s;Qe=window.setTimeout(c,a)}function r(){b(At)===null&&Nt.size===0&&!qe&&k(At,document.body.getAttribute("style"),!0)}return re(()=>wr.current,()=>{if(!wr.current)return;r(),qe=!1;const s=getComputedStyle(document.body),o=window.innerWidth-document.documentElement.clientWidth,c={padding:Number.parseInt(s.paddingRight??"0",10)+o,margin:Number.parseInt(s.marginRight??"0",10)};o>0&&(document.body.style.paddingRight=`${c.padding}px`,document.body.style.marginRight=`${c.margin}px`,document.body.style.setProperty("--scrollbar-width",`${o}px`),document.body.style.overflow="hidden"),hr&&(Yt=G(document,"touchmove",a=>{a.target===document.documentElement&&(a.touches.length>1||a.preventDefault())},{passive:!1})),ce(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),pt(()=>()=>{Yt?.()}),{get lockMap(){return Nt},resetBodyStyle:t,scheduleCleanupIfNoNewLocks:n,cancelPendingCleanup:e,ensureInitialStyleCaptured:r}});class fu{#e=cu();#t;#n=()=>null;#r;locked;constructor(e,n=()=>null){this.#t=e,this.#n=n,this.#r=uu.get(),this.#r&&(this.#r.cancelPendingCleanup(),this.#r.ensureInitialStyleCaptured(),this.#r.lockMap.set(this.#e,this.#t??!1),this.locked=N(()=>this.#r.lockMap.get(this.#e)??!1,r=>this.#r.lockMap.set(this.#e,r)),pt(()=>{if(this.#r.lockMap.delete(this.#e),Ds(this.#r.lockMap))return;const r=this.#n();this.#r.scheduleCleanupIfNoNewLocks(r,()=>{this.#r.resetBodyStyle()})}))}}function Ds(t){for(const[e,n]of t)if(n)return!0;return!1}function Bu(t,e){ue(e,!0);let n=F(e,"preventScroll",3,!0),r=F(e,"restoreScrollDelay",3,null);n()&&new fu(n(),()=>r()),fe()}let Ze=B(!1);class be{static _refs=0;static _cleanup;constructor(){ve(()=>(be._refs===0&&(be._cleanup=Er(()=>{const e=[],n=s=>{k(Ze,!1)},r=s=>{k(Ze,!0)};return e.push(G(document,"pointerdown",n,{capture:!0}),G(document,"pointermove",n,{capture:!0}),G(document,"keydown",r,{capture:!0})),Te(...e)})),be._refs++,()=>{be._refs--,be._refs===0&&(k(Ze,!1),be._cleanup?.())}))}get current(){return b(Ze)}set current(e){k(Ze,e,!0)}}const zu={BACKLOG:"backlog",TODO:"todo",IN_PROGRESS:"in_progress",DONE:"done",CANCELED:"canceled"},du={backlog:"Backlog",todo:"Todo",in_progress:"In Progress",done:"Done",canceled:"Canceled"},Du={NONE:"none",LOW:"low",MEDIUM:"medium",HIGH:"high",URGENT:"urgent"},hu={none:"No priority",low:"Low",medium:"Medium",high:"High",urgent:"Urgent"};var pu=We('<svg viewBox="0 0 16 16" fill="none" role="img"><title> </title><circle cx="8" cy="8" r="7" stroke-width="1.5"></circle><path d="M5 8l2 2 4-4" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),gu=We('<svg viewBox="0 0 16 16" fill="none" role="img"><title> </title><circle cx="8" cy="8" r="7" stroke-width="1.5"></circle><path d="M5 8h6" stroke-width="1.5" stroke-linecap="round"></path></svg>'),mu=We('<svg viewBox="0 0 16 16" fill="none" role="img"><title> </title><circle cx="8" cy="8" r="7" stroke-width="1.5"></circle><path d="M8 1a7 7 0 0 1 0 14" stroke-width="1.5"></path></svg>'),bu=We('<svg viewBox="0 0 16 16" fill="none" role="img"><title> </title><circle cx="8" cy="8" r="7" stroke-width="1.5"></circle></svg>');function Wu(t,e){ue(e,!0);const n=F(e,"size",3,14),r=F(e,"class",3,""),s={backlog:"#6b7280",todo:"#3b82f6",in_progress:"#f59e0b",done:"#22c55e",canceled:"#ef4444"},o=L(()=>s[e.status]),i=L(()=>du[e.status]),c=L(()=>e.status==="todo"?.15:0);var a=ne(),l=te(a);{var u=h=>{var p=pu(),m=Z(p),g=Z(m,!0);$(m);var d=me(m);yo(),$(p),Fe(()=>{O(p,"width",n()),O(p,"height",n()),$e(p,0,et(r())),O(p,"aria-label",b(i)),tt(g,b(i)),O(d,"stroke",b(o)),O(d,"fill",b(o))}),j(h,p)},f=h=>{var p=ne(),m=te(p);{var g=v=>{var A=gu(),M=Z(A),x=Z(M,!0);$(M);var P=me(M),_=me(P);$(A),Fe(()=>{O(A,"width",n()),O(A,"height",n()),$e(A,0,et(r())),O(A,"aria-label",b(i)),tt(x,b(i)),O(P,"stroke",b(o)),O(_,"stroke",b(o))}),j(v,A)},d=v=>{var A=ne(),M=te(A);{var x=_=>{var I=mu(),y=Z(I),E=Z(y,!0);$(y);var T=me(y),K=me(T);$(I),Fe(()=>{O(I,"width",n()),O(I,"height",n()),$e(I,0,et(r())),O(I,"aria-label",b(i)),tt(E,b(i)),O(T,"stroke",b(o)),O(K,"fill",b(o)),O(K,"stroke",b(o))}),j(_,I)},P=_=>{var I=bu(),y=Z(I),E=Z(y,!0);$(y);var T=me(y);$(I),Fe(()=>{O(I,"width",n()),O(I,"height",n()),$e(I,0,et(r())),O(I,"aria-label",b(i)),tt(E,b(i)),O(T,"stroke",b(o)),O(T,"fill",b(o)),O(T,"fill-opacity",b(c))}),j(_,I)};Ot(M,_=>{e.status==="in_progress"?_(x):_(P,!1)},!0)}j(v,A)};Ot(m,v=>{e.status==="canceled"?v(g):v(d,!1)},!0)}j(h,p)};Ot(l,h=>{e.status==="done"?h(u):h(f,!1)})}j(t,a),fe()}var yu=We("<rect></rect>"),vu=ti('<div><svg viewBox="0 0 16 16" fill="none" role="img"><title> </title><!></svg></div>');function ju(t,e){ue(e,!0);const n=F(e,"size",3,14),r=F(e,"class",3,""),s={none:"currentColor",low:"currentColor",medium:"#f59e0b",high:"#f97316",urgent:"#ef4444"},o=L(()=>s[e.priority]),i=L(()=>hu[e.priority]),c=L(()=>e.priority==="urgent"?4:e.priority==="high"?3:e.priority==="medium"?2:e.priority==="low"?1:0),a=L(()=>n()+6);var l=vu(),u=Z(l),f=Z(u),h=Z(f,!0);$(f);var p=me(f);Or(p,16,()=>[0,1,2,3],Mr,(m,g)=>{var d=yu();O(d,"width",3),O(d,"rx",.5),Fe(()=>{O(d,"x",1+g*4),O(d,"y",12-(g+1)*2.5),O(d,"height",(g+1)*2.5),O(d,"fill",g<b(c)?b(o):"var(--border)")}),j(m,d)}),$(u),$(l),Fe(m=>{$e(l,1,m),$o(l,`width: ${b(a)??""}px; height: ${b(a)??""}px;`),O(u,"width",n()),O(u,"height",n()),O(u,"aria-label",b(i)),tt(h,b(i))},[()=>et(tc("inline-flex items-center justify-center rounded-sm bg-border",r()))]),j(t,l),fe()}export{Nu as A,Ru as B,Ve as C,_u as D,ds as E,Fu as F,Pc as G,ts as H,Au as I,sc as J,cu as K,Et as L,Mu as M,Rc as N,as as O,ju as P,Bs as Q,Ls as R,Wu as S,Lu as T,Ns as U,_s as V,Ps as W,zs as X,Te as Y,An as Z,du as a,hu as b,zu as c,Du as d,Or as e,Iu as f,tc as g,mt as h,Mr as i,ls as j,ci as k,Mn as l,cl as m,N as n,pt as o,Xc as p,us as q,Ou as r,_c as s,ec as t,Tu as u,Q as v,re as w,Dc as x,Pu as y,Bu as z};
